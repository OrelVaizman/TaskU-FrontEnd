{"remainingRequest":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/babel-loader/lib/index.js!/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/services/user.service.js","dependencies":[{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/services/user.service.js","mtime":1607883588671},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL29yZWx2YWl6bWFuL0Rlc2t0b3AvZGV2L0ZpbmFsU3ByaW50L3Rhc2t1LWZyb250ZW5kL1Rhc2tVLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgaHR0cFNlcnZpY2UgfSBmcm9tICIuL2h0dHAuc2VydmljZSI7CmltcG9ydCB7IHV0aWxTZXJ2aWNlIH0gZnJvbSAnLi91dGlsLnNlcnZpY2UnOwpleHBvcnQgdmFyIHVzZXJTZXJ2aWNlID0gewogIGdldFVzZXJzOiBnZXRVc2VycywKICBnZXRCeUlkOiBnZXRCeUlkLAogIHJlbW92ZTogcmVtb3ZlLAogIHNhdmU6IHNhdmUsCiAgbG9naW46IGxvZ2luLAogIHNpZ251cDogc2lnbnVwLAogIGxvZ291dDogbG9nb3V0LAogIGdldEVtcHR5Tm90aWY6IGdldEVtcHR5Tm90aWYsCiAgc2VuZE5vdGlmOiBzZW5kTm90aWYKfTsKCmZ1bmN0aW9uIGdldFVzZXJzKCkgewogIHJldHVybiBodHRwU2VydmljZS5nZXQoInVzZXIiKTsKfQoKZnVuY3Rpb24gZ2V0QnlJZCh1c2VySWQpIHsKICByZXR1cm4gaHR0cFNlcnZpY2UuZ2V0KCJ1c2VyLyIuY29uY2F0KHVzZXJJZCkpOwp9CgpmdW5jdGlvbiByZW1vdmUodXNlcklkKSB7CiAgcmV0dXJuIGh0dHBTZXJ2aWNlLmRlbGV0ZSgidXNlci8iLmNvbmNhdCh1c2VySWQpKTsKfQoKZnVuY3Rpb24gc2F2ZSh1c2VyKSB7CiAgdmFyIHNhdmVkdXNlciA9IHVzZXIuX2lkID8gX3VwZGF0ZSh1c2VyKSA6IF9hZGQodXNlcik7CiAgcmV0dXJuIHNhdmVkdXNlcjsKfQoKZnVuY3Rpb24gbG9naW4oX3gpIHsKICByZXR1cm4gX2xvZ2luLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9sb2dpbigpIHsKICBfbG9naW4gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodXNlckNyZWQpIHsKICAgIHZhciB1c2VyOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGh0dHBTZXJ2aWNlLnBvc3QoJ2F1dGgvbG9naW4nLCB1c2VyQ3JlZCk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICB1c2VyID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgX2hhbmRsZUxvZ2luKHVzZXIpKTsKCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwogIHJldHVybiBfbG9naW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gc2lnbnVwKF94MikgewogIHJldHVybiBfc2lnbnVwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9zaWdudXAoKSB7CiAgX3NpZ251cCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIodXNlckNyZWQpIHsKICAgIHZhciB1c2VyOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gaHR0cFNlcnZpY2UucG9zdCgnYXV0aC9zaWdudXAnLCB1c2VyQ3JlZCk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICB1c2VyID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBfaGFuZGxlTG9naW4odXNlcikpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIpOwogIH0pKTsKICByZXR1cm4gX3NpZ251cC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBsb2dvdXQoKSB7CiAgcmV0dXJuIF9sb2dvdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2xvZ291dCgpIHsKICBfbG9nb3V0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGh0dHBTZXJ2aWNlLnBvc3QoJ2F1dGgvbG9nb3V0Jyk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5jbGVhcigpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTMpOwogIH0pKTsKICByZXR1cm4gX2xvZ291dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfYWRkKF94MykgewogIHJldHVybiBfYWRkMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfYWRkMigpIHsKICBfYWRkMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQodXNlcikgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIGh0dHBTZXJ2aWNlLnBvc3QoInVzZXIvIiwgdXNlcikpOwoKICAgICAgICAgIGNhc2UgMToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTQpOwogIH0pKTsKICByZXR1cm4gX2FkZDIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX3VwZGF0ZShfeDQpIHsKICByZXR1cm4gX3VwZGF0ZTIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX3VwZGF0ZTIoKSB7CiAgX3VwZGF0ZTIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KHVzZXIpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBodHRwU2VydmljZS5wdXQoInVzZXIvIi5jb25jYXQodXNlci5faWQpLCB1c2VyKSk7CgogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNSk7CiAgfSkpOwogIHJldHVybiBfdXBkYXRlMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfaGFuZGxlTG9naW4odXNlcikgewogIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeSh1c2VyKSk7CiAgcmV0dXJuIHVzZXI7Cn0KCmZ1bmN0aW9uIGdldEVtcHR5Tm90aWYoKSB7CiAgcmV0dXJuIHsKICAgIGlkOiB1dGlsU2VydmljZS5tYWtlSWQoKSwKICAgIHR4dDogJycsCiAgICB0eXBlOiAnJywKICAgIGJ5VXNlcjogbnVsbCwKICAgIHRvVXNlcklkOiBudWxsLAogICAgaXNSZWFkOiBmYWxzZSwKICAgIGNyZWF0ZWRBdDogRGF0ZS5ub3coKQogIH07Cn0KCmZ1bmN0aW9uIHNlbmROb3RpZihfeDUpIHsKICByZXR1cm4gX3NlbmROb3RpZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfc2VuZE5vdGlmKCkgewogIF9zZW5kTm90aWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KG5vdGlmKSB7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgaHR0cFNlcnZpY2UucG9zdCgidXNlci9ub3RpZi8iLmNvbmNhdChub3RpZi50b1VzZXJJZCksIG5vdGlmKSk7CgogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNik7CiAgfSkpOwogIHJldHVybiBfc2VuZE5vdGlmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0="},{"version":3,"sources":["/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/services/user.service.js"],"names":["httpService","utilService","userService","getUsers","getById","remove","save","login","signup","logout","getEmptyNotif","sendNotif","get","userId","delete","user","saveduser","_id","_update","_add","userCred","post","_handleLogin","sessionStorage","clear","put","setItem","JSON","stringify","id","makeId","txt","type","byUser","toUserId","isRead","createdAt","Date","now","notif"],"mappings":"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","sourcesContent":["import { httpService } from \"./http.service\";\nimport { utilService } from './util.service'\n\n\nexport const userService = {\n  getUsers,\n  getById,\n  remove,\n  save,\n  login,\n  signup,\n  logout,\n  getEmptyNotif,\n  sendNotif\n};\n\n\nfunction getUsers() {\n  return httpService.get(\"user\");\n\n}\n\nfunction getById(userId) {\n  return httpService.get(`user/${userId}`);\n\n}\n\nfunction remove(userId) {\n  return httpService.delete(`user/${userId}`);\n}\n\nfunction save(user) {\n  const saveduser = user._id ? _update(user) : _add(user);\n  return saveduser;\n}\n\nasync function login(userCred) {\n  const user = await httpService.post('auth/login', userCred)\n  return _handleLogin(user)\n}\n\nasync function signup(userCred) {\n  const user = await httpService.post('auth/signup', userCred)\n  return _handleLogin(user)\n}\n\nasync function logout() {\n  await httpService.post('auth/logout');\n  sessionStorage.clear();\n}\n\nasync function _add(user) {\n  return httpService.post(`user/`, user);\n}\n\nasync function _update(user) {\n  return httpService.put(`user/${user._id}`, user);\n}\n\nfunction _handleLogin(user) {\n  sessionStorage.setItem('user', JSON.stringify(user))\n  return user;\n}\n\nfunction getEmptyNotif() {\n  return {\n    id: utilService.makeId(),\n    txt: '',\n    type: '',\n    byUser: null,\n    toUserId: null,\n    isRead: false,\n    createdAt: Date.now()\n  }\n}\n\nasync function sendNotif(notif) {\n  return httpService.post(`user/notif/${notif.toUserId}`, notif);\n}"]}]}