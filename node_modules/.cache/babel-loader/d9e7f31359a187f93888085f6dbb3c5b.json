{"remainingRequest":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/babel-loader/lib/index.js!/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/services/http.service.js","dependencies":[{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/services/http.service.js","mtime":1606776852220},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL29yZWx2YWl6bWFuL0Rlc2t0b3AvZGV2L0ZpbmFsU3ByaW50L3Rhc2t1LWZyb250ZW5kL1Rhc2tVLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHJvdXRlciBmcm9tICJAL3JvdXRlciI7CnZhciBCQVNFX1VSTCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAicHJvZHVjdGlvbiIgPyAiL2FwaS8iIDogIi8vbG9jYWxob3N0OjMwMzAvYXBpLyI7CmltcG9ydCBBeGlvcyBmcm9tICJheGlvcyI7CnZhciBheGlvcyA9IEF4aW9zLmNyZWF0ZSh7CiAgd2l0aENyZWRlbnRpYWxzOiB0cnVlCn0pOwpleHBvcnQgdmFyIGh0dHBTZXJ2aWNlID0gewogIGdldDogZnVuY3Rpb24gZ2V0KGVuZHBvaW50LCBkYXRhKSB7CiAgICByZXR1cm4gYWpheChlbmRwb2ludCwgIkdFVCIsIGRhdGEpOwogIH0sCiAgcG9zdDogZnVuY3Rpb24gcG9zdChlbmRwb2ludCwgZGF0YSkgewogICAgcmV0dXJuIGFqYXgoZW5kcG9pbnQsICJQT1NUIiwgZGF0YSk7CiAgfSwKICBwdXQ6IGZ1bmN0aW9uIHB1dChlbmRwb2ludCwgZGF0YSkgewogICAgcmV0dXJuIGFqYXgoZW5kcG9pbnQsICJQVVQiLCBkYXRhKTsKICB9LAogIGRlbGV0ZTogZnVuY3Rpb24gX2RlbGV0ZShlbmRwb2ludCwgZGF0YSkgewogICAgcmV0dXJuIGFqYXgoZW5kcG9pbnQsICJERUxFVEUiLCBkYXRhKTsKICB9Cn07CgpmdW5jdGlvbiBhamF4KF94KSB7CiAgcmV0dXJuIF9hamF4LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9hamF4KCkgewogIF9hamF4ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGVuZHBvaW50KSB7CiAgICB2YXIgbWV0aG9kLAogICAgICAgIGRhdGEsCiAgICAgICAgcmVzLAogICAgICAgIF9hcmdzID0gYXJndW1lbnRzOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBtZXRob2QgPSBfYXJncy5sZW5ndGggPiAxICYmIF9hcmdzWzFdICE9PSB1bmRlZmluZWQgPyBfYXJnc1sxXSA6ICJnZXQiOwogICAgICAgICAgICBkYXRhID0gX2FyZ3MubGVuZ3RoID4gMiAmJiBfYXJnc1syXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3NbMl0gOiBudWxsOwogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgIHJldHVybiBheGlvcyh7CiAgICAgICAgICAgICAgdXJsOiAiIi5jb25jYXQoQkFTRV9VUkwpLmNvbmNhdChlbmRwb2ludCksCiAgICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QsCiAgICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJlcy5kYXRhKTsKCiAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA5OwogICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgaWYgKF9jb250ZXh0LnQwLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7CiAgICAgICAgICAgICAgcm91dGVyLnB1c2goIi8iKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQudDA7CgogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzIsIDldXSk7CiAgfSkpOwogIHJldHVybiBfYWpheC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9"},{"version":3,"sources":["/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/services/http.service.js"],"names":["router","BASE_URL","process","env","NODE_ENV","Axios","axios","create","withCredentials","httpService","get","endpoint","data","ajax","post","put","delete","method","url","res","response","status","push"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,UAAnB;AAEA,IAAMC,QAAQ,GACZC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwC,OAAxC,GAAkD,uBADpD;AAGA,OAAOC,KAAP,MAAkB,OAAlB;AACA,IAAIC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAa;AACvBC,EAAAA,eAAe,EAAE;AADM,CAAb,CAAZ;AAIA,OAAO,IAAMC,WAAW,GAAG;AACzBC,EAAAA,GADyB,eACrBC,QADqB,EACXC,IADW,EACL;AAClB,WAAOC,IAAI,CAACF,QAAD,EAAW,KAAX,EAAkBC,IAAlB,CAAX;AACD,GAHwB;AAIzBE,EAAAA,IAJyB,gBAIpBH,QAJoB,EAIVC,IAJU,EAIJ;AACnB,WAAOC,IAAI,CAACF,QAAD,EAAW,MAAX,EAAmBC,IAAnB,CAAX;AACD,GANwB;AAOzBG,EAAAA,GAPyB,eAOrBJ,QAPqB,EAOXC,IAPW,EAOL;AAClB,WAAOC,IAAI,CAACF,QAAD,EAAW,KAAX,EAAkBC,IAAlB,CAAX;AACD,GATwB;AAUzBI,EAAAA,MAVyB,mBAUlBL,QAVkB,EAURC,IAVQ,EAUF;AACrB,WAAOC,IAAI,CAACF,QAAD,EAAW,QAAX,EAAqBC,IAArB,CAAX;AACD;AAZwB,CAApB;;SAeQC,I;;;;;kEAAf,iBAAoBF,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8BM,YAAAA,MAA9B,2DAAuC,KAAvC;AAA8CL,YAAAA,IAA9C,2DAAqD,IAArD;AAAA;AAAA;AAAA,mBAEsBN,KAAK,CAAC;AACtBY,cAAAA,GAAG,YAAKjB,QAAL,SAAgBU,QAAhB,CADmB;AAEtBM,cAAAA,MAAM,EAANA,MAFsB;AAGtBL,cAAAA,IAAI,EAAJA;AAHsB,aAAD,CAF3B;;AAAA;AAEUO,YAAAA,GAFV;AAAA,6CAOWA,GAAG,CAACP,IAPf;;AAAA;AAAA;AAAA;;AASI,gBAAI,YAAIQ,QAAJ,CAAaC,MAAb,KAAwB,GAA5B,EAAiC;AAC/BrB,cAAAA,MAAM,CAACsB,IAAP,CAAY,GAAZ;AACD;;AAXL;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import router from \"@/router\";\r\n\r\nconst BASE_URL =\r\n  process.env.NODE_ENV === \"production\" ? \"/api/\" : \"//localhost:3030/api/\";\r\n\r\nimport Axios from \"axios\";\r\nvar axios = Axios.create({\r\n  withCredentials: true\r\n});\r\n\r\nexport const httpService = {\r\n  get(endpoint, data) {\r\n    return ajax(endpoint, \"GET\", data);\r\n  },\r\n  post(endpoint, data) {\r\n    return ajax(endpoint, \"POST\", data);\r\n  },\r\n  put(endpoint, data) {\r\n    return ajax(endpoint, \"PUT\", data);\r\n  },\r\n  delete(endpoint, data) {\r\n    return ajax(endpoint, \"DELETE\", data);\r\n  }\r\n};\r\n\r\nasync function ajax(endpoint, method = \"get\", data = null) {\r\n  try {\r\n    const res = await axios({\r\n      url: `${BASE_URL}${endpoint}`,\r\n      method,\r\n      data\r\n    });\r\n    return res.data;\r\n  } catch (err) {\r\n    if (err.response.status === 401) {\r\n      router.push(\"/\");\r\n    }\r\n    throw err;\r\n  }\r\n}\r\n"]}]}