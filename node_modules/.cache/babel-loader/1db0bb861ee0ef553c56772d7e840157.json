{"remainingRequest":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/babel-loader/lib/index.js!/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/services/http.service.js","dependencies":[{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/services/http.service.js","mtime":1606784648165},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL29yZWx2YWl6bWFuL0Rlc2t0b3AvZGV2L0ZpbmFsU3ByaW50L3Rhc2t1LWZyb250ZW5kL1Rhc2tVLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHJvdXRlciBmcm9tICdAL3JvdXRlcic7CnZhciBCQVNFX1VSTCA9ICcvYXBpLyc7IC8vIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAicHJvZHVjdGlvbiIgPyAiL2FwaS8iIDogIi8vbG9jYWxob3N0OjMwMzAvYXBpLyI7CgppbXBvcnQgQXhpb3MgZnJvbSAnYXhpb3MnOwp2YXIgYXhpb3MgPSBBeGlvcy5jcmVhdGUoewogIHdpdGhDcmVkZW50aWFsczogdHJ1ZQp9KTsKZXhwb3J0IHZhciBodHRwU2VydmljZSA9IHsKICBnZXQ6IGZ1bmN0aW9uIGdldChlbmRwb2ludCwgZGF0YSkgewogICAgcmV0dXJuIGFqYXgoZW5kcG9pbnQsICdHRVQnLCBkYXRhKTsKICB9LAogIHBvc3Q6IGZ1bmN0aW9uIHBvc3QoZW5kcG9pbnQsIGRhdGEpIHsKICAgIHJldHVybiBhamF4KGVuZHBvaW50LCAnUE9TVCcsIGRhdGEpOwogIH0sCiAgcHV0OiBmdW5jdGlvbiBwdXQoZW5kcG9pbnQsIGRhdGEpIHsKICAgIHJldHVybiBhamF4KGVuZHBvaW50LCAnUFVUJywgZGF0YSk7CiAgfSwKICBkZWxldGU6IGZ1bmN0aW9uIF9kZWxldGUoZW5kcG9pbnQsIGRhdGEpIHsKICAgIHJldHVybiBhamF4KGVuZHBvaW50LCAnREVMRVRFJywgZGF0YSk7CiAgfQp9OwoKZnVuY3Rpb24gYWpheChfeCkgewogIHJldHVybiBfYWpheC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfYWpheCgpIHsKICBfYWpheCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShlbmRwb2ludCkgewogICAgdmFyIG1ldGhvZCwKICAgICAgICBkYXRhLAogICAgICAgIHJlcywKICAgICAgICBfYXJncyA9IGFyZ3VtZW50czsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgbWV0aG9kID0gX2FyZ3MubGVuZ3RoID4gMSAmJiBfYXJnc1sxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3NbMV0gOiAnZ2V0JzsKICAgICAgICAgICAgZGF0YSA9IF9hcmdzLmxlbmd0aCA+IDIgJiYgX2FyZ3NbMl0gIT09IHVuZGVmaW5lZCA/IF9hcmdzWzJdIDogbnVsbDsKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICByZXR1cm4gYXhpb3MoewogICAgICAgICAgICAgIHVybDogIiIuY29uY2F0KEJBU0VfVVJMKS5jb25jYXQoZW5kcG9pbnQpLAogICAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kLAogICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCByZXMuZGF0YSk7CgogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gOTsKICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgyKTsKCiAgICAgICAgICAgIGlmIChfY29udGV4dC50MC5yZXNwb25zZS5zdGF0dXMgPT09IDQwMSkgewogICAgICAgICAgICAgIHJvdXRlci5wdXNoKCcvJyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRocm93IF9jb250ZXh0LnQwOwoKICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSwgbnVsbCwgW1syLCA5XV0pOwogIH0pKTsKICByZXR1cm4gX2FqYXguYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQ=="},{"version":3,"sources":["/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/services/http.service.js"],"names":["router","BASE_URL","Axios","axios","create","withCredentials","httpService","get","endpoint","data","ajax","post","put","delete","method","url","res","response","status","push"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,UAAnB;AAEA,IAAMC,QAAQ,GAAG,OAAjB,C,CACA;;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,IAAIC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAa;AACvBC,EAAAA,eAAe,EAAE;AADM,CAAb,CAAZ;AAIA,OAAO,IAAMC,WAAW,GAAG;AACzBC,EAAAA,GADyB,eACrBC,QADqB,EACXC,IADW,EACL;AAClB,WAAOC,IAAI,CAACF,QAAD,EAAW,KAAX,EAAkBC,IAAlB,CAAX;AACD,GAHwB;AAIzBE,EAAAA,IAJyB,gBAIpBH,QAJoB,EAIVC,IAJU,EAIJ;AACnB,WAAOC,IAAI,CAACF,QAAD,EAAW,MAAX,EAAmBC,IAAnB,CAAX;AACD,GANwB;AAOzBG,EAAAA,GAPyB,eAOrBJ,QAPqB,EAOXC,IAPW,EAOL;AAClB,WAAOC,IAAI,CAACF,QAAD,EAAW,KAAX,EAAkBC,IAAlB,CAAX;AACD,GATwB;AAUzBI,EAAAA,MAVyB,mBAUlBL,QAVkB,EAURC,IAVQ,EAUF;AACrB,WAAOC,IAAI,CAACF,QAAD,EAAW,QAAX,EAAqBC,IAArB,CAAX;AACD;AAZwB,CAApB;;SAeQC,I;;;;;kEAAf,iBAAoBF,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8BM,YAAAA,MAA9B,2DAAuC,KAAvC;AAA8CL,YAAAA,IAA9C,2DAAqD,IAArD;AAAA;AAAA;AAAA,mBAEsBN,KAAK,CAAC;AACtBY,cAAAA,GAAG,YAAKd,QAAL,SAAgBO,QAAhB,CADmB;AAEtBM,cAAAA,MAAM,EAANA,MAFsB;AAGtBL,cAAAA,IAAI,EAAJA;AAHsB,aAAD,CAF3B;;AAAA;AAEUO,YAAAA,GAFV;AAAA,6CAOWA,GAAG,CAACP,IAPf;;AAAA;AAAA;AAAA;;AASI,gBAAI,YAAIQ,QAAJ,CAAaC,MAAb,KAAwB,GAA5B,EAAiC;AAC/BlB,cAAAA,MAAM,CAACmB,IAAP,CAAY,GAAZ;AACD;;AAXL;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import router from '@/router'\r\n\r\nconst BASE_URL = '/api/'\r\n// process.env.NODE_ENV === \"production\" ? \"/api/\" : \"//localhost:3030/api/\";\r\n\r\nimport Axios from 'axios'\r\nvar axios = Axios.create({\r\n  withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n  get(endpoint, data) {\r\n    return ajax(endpoint, 'GET', data)\r\n  },\r\n  post(endpoint, data) {\r\n    return ajax(endpoint, 'POST', data)\r\n  },\r\n  put(endpoint, data) {\r\n    return ajax(endpoint, 'PUT', data)\r\n  },\r\n  delete(endpoint, data) {\r\n    return ajax(endpoint, 'DELETE', data)\r\n  }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'get', data = null) {\r\n  try {\r\n    const res = await axios({\r\n      url: `${BASE_URL}${endpoint}`,\r\n      method,\r\n      data\r\n    })\r\n    return res.data\r\n  } catch (err) {\r\n    if (err.response.status === 401) {\r\n      router.push('/')\r\n    }\r\n    throw err\r\n  }\r\n}\r\n"]}]}