{"remainingRequest":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/babel-loader/lib/index.js!/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/cmps/Trello/status-preview.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/cmps/Trello/status-preview.vue","mtime":1607175842060},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgdGFza1ByZXZpZXcgZnJvbSAnLi90YXNrLXByZXZpZXcudnVlJzsKaW1wb3J0IHsgZXZlbnRCdXMgfSBmcm9tICdAL3NlcnZpY2VzL2V2ZW50LWJ1cy5zZXJ2aWNlJzsKaW1wb3J0IHsgYm9hcmRTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvYm9hcmQuc2VydmljZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnc3RhdHVlcy1wcmV2aWV3JywKICBwcm9wczogewogICAgc3RhdHVzOiBPYmplY3QsCiAgICBncm91cDogT2JqZWN0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdHh0OiAnJywKICAgICAgaXNBZGRCdG5TaG93bjogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgYm9hcmQ6IGZ1bmN0aW9uIGJvYXJkKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5ib2FyZDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZVRhc2s6IGZ1bmN0aW9uIHVwZGF0ZVRhc2sodXBkYXRlZFRhc2spIHsKICAgICAgY29uc29sZS5sb2coJ3Rhc2tra2tra2s6JywgdXBkYXRlZFRhc2spOwogICAgICB2YXIgZ3JvdXAgPSB0aGlzLmJvYXJkLmdyb3Vwcy5maW5kKGZ1bmN0aW9uIChncm91cCkgewogICAgICAgIHJldHVybiBncm91cC5pZCA9PT0gdXBkYXRlZFRhc2suZ3JvdXBJZDsKICAgICAgfSk7CiAgICAgIHZhciB0YXNrSWR4ID0gZ3JvdXAudGFza3MuZmluZEluZGV4KGZ1bmN0aW9uIChjdXJyVGFzaykgewogICAgICAgIHJldHVybiBjdXJyVGFzay5pZCA9PT0gdXBkYXRlZFRhc2suaWQ7CiAgICAgIH0pOwogICAgICBncm91cC50YXNrcy5zcGxpY2UodGFza0lkeCwgMSwgdXBkYXRlZFRhc2spOwogICAgICBldmVudEJ1cy4kZW1pdCgndXBkYXRlR3JvdXAnLCBncm91cCk7CiAgICB9LAogICAgZm9jdXNJbnB1dDogZnVuY3Rpb24gZm9jdXNJbnB1dCgpIHsKICAgICAgdGhpcy5pc0FkZEJ0blNob3duID0gdHJ1ZTsKICAgIH0sCiAgICB1bkZvY3VzSW5wdXQ6IGZ1bmN0aW9uIHVuRm9jdXNJbnB1dCgpIHsKICAgICAgdGhpcy5pc0FkZEJ0blNob3duID0gZmFsc2U7CiAgICB9LAogICAgYWRkVGFzazogZnVuY3Rpb24gYWRkVGFzaygpIHsKICAgICAgdmFyIG5ld1Rhc2sgPSBib2FyZFNlcnZpY2UuZ2V0RW1wdHlUYXNrKCk7CiAgICAgIG5ld1Rhc2suc3RhdHVzLmNvbG9yID0gdGhpcy5zdGF0dXMuY29sb3I7CiAgICAgIG5ld1Rhc2suc3RhdHVzLnR4dCA9IHRoaXMuc3RhdHVzLnR4dDsKICAgICAgbmV3VGFzay50eHQgPSB0aGlzLnR4dDsKICAgICAgdGhpcy5ncm91cC50YXNrcy51bnNoaWZ0KG5ld1Rhc2spOwogICAgICBldmVudEJ1cy4kZW1pdCgndXBkYXRlR3JvdXAnLCB0aGlzLmdyb3VwKTsKICAgICAgdGhpcy5pc0FkZEJ0blNob3duID0gZmFsc2U7CiAgICAgIHRoaXMudHh0ID0gJyc7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5ncm91cENvcHkgPSB0aGlzLmdyb3VwOwogIH0sCiAgY29tcG9uZW50czogewogICAgdGFza1ByZXZpZXc6IHRhc2tQcmV2aWV3CiAgfQp9Ow=="},{"version":3,"sources":["status-preview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,OAAA,WAAA,MAAA,oBAAA;AACA,SAAA,QAAA,QAAA,8BAAA;AACA,SAAA,YAAA,QAAA,8BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,iBADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA,MADA;AAEA,IAAA,KAAA,EAAA;AAFA,GAFA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,EADA;AAEA,MAAA,aAAA,EAAA;AAFA,KAAA;AAIA,GAXA;AAYA,EAAA,QAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,KAAA;AACA;AAHA,GAZA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,WADA,EACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,aAAA,EAAA,WAAA;AACA,UAAA,KAAA,GAAA,KAAA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,UAAA,KAAA;AAAA,eAAA,KAAA,CAAA,EAAA,KAAA,WAAA,CAAA,OAAA;AAAA,OAAA,CAAA;AACA,UAAA,OAAA,GAAA,KAAA,CAAA,KAAA,CAAA,SAAA,CACA,UAAA,QAAA;AAAA,eAAA,QAAA,CAAA,EAAA,KAAA,WAAA,CAAA,EAAA;AAAA,OADA,CAAA;AAGA,MAAA,KAAA,CAAA,KAAA,CAAA,MAAA,CAAA,OAAA,EAAA,CAAA,EAAA,WAAA;AACA,MAAA,QAAA,CAAA,KAAA,CAAA,aAAA,EAAA,KAAA;AACA,KATA;AAUA,IAAA,UAVA,wBAUA;AACA,WAAA,aAAA,GAAA,IAAA;AACA,KAZA;AAaA,IAAA,YAbA,0BAaA;AACA,WAAA,aAAA,GAAA,KAAA;AACA,KAfA;AAgBA,IAAA,OAhBA,qBAgBA;AACA,UAAA,OAAA,GAAA,YAAA,CAAA,YAAA,EAAA;AACA,MAAA,OAAA,CAAA,MAAA,CAAA,KAAA,GAAA,KAAA,MAAA,CAAA,KAAA;AACA,MAAA,OAAA,CAAA,MAAA,CAAA,GAAA,GAAA,KAAA,MAAA,CAAA,GAAA;AACA,MAAA,OAAA,CAAA,GAAA,GAAA,KAAA,GAAA;AACA,WAAA,KAAA,CAAA,KAAA,CAAA,OAAA,CAAA,OAAA;AACA,MAAA,QAAA,CAAA,KAAA,CAAA,aAAA,EAAA,KAAA,KAAA;AACA,WAAA,aAAA,GAAA,KAAA;AACA,WAAA,GAAA,GAAA,EAAA;AACA;AAzBA,GAjBA;AA4CA,EAAA,OA5CA,qBA4CA;AACA,SAAA,SAAA,GAAA,KAAA,KAAA;AACA,GA9CA;AA+CA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA;AA/CA,CAAA","sourcesContent":["<template>\n  <section\n    :style=\"`background-color:${status.color}`\"\n    class=\"status-preview flex align-center\"\n  >\n    <span class=\"status-title\"\n      >{{ status.txt || 'No label' }}\n      <span v-if=\"status.tasks\">/ {{ status.tasks.length }}</span></span\n    >\n\n    <task-preview\n      v-for=\"task in status.tasks\"\n      :key=\"task.id\"\n      :task=\"task\"\n      :group=\"group\"\n      @updateTask=\"updateTask\"\n    />\n    <form class=\"add-task-form flex align-center\" @submit.prevent=\"addTask\">\n      <input\n        class=\"add-task-input\"\n        v-model=\"txt\"\n        type=\"text\"\n        placeholder=\"+ Add Task\"\n        @click=\"focusInput\"\n        @blur=\"unFocusInput\"\n      />\n      <button type=\"submit\" class=\"add-btn\" v-if=\"isAddBtnShown\">\n        <span>+</span>\n      </button>\n    </form>\n  </section>\n</template>\n\n<script>\nimport taskPreview from './task-preview.vue'\nimport { eventBus } from '@/services/event-bus.service'\nimport { boardService } from '../../services/board.service'\n\nexport default {\n  name: 'statues-preview',\n  props: {\n    status: Object,\n    group: Object\n  },\n  data() {\n    return {\n      txt: '',\n      isAddBtnShown: false\n    }\n  },\n  computed: {\n    board() {\n      return this.$store.getters.board\n    }\n  },\n  methods: {\n    updateTask(updatedTask) {\n      console.log('taskkkkkkk:', updatedTask)\n      const group = this.board.groups.find(group => group.id === updatedTask.groupId)\n      const taskIdx = group.tasks.findIndex(\n        currTask => currTask.id === updatedTask.id\n      )\n      group.tasks.splice(taskIdx, 1, updatedTask)\n      eventBus.$emit('updateGroup', group)\n    },\n    focusInput() {\n      this.isAddBtnShown = true\n    },\n    unFocusInput() {\n      this.isAddBtnShown = false\n    },\n    addTask() {\n      const newTask = boardService.getEmptyTask()\n      newTask.status.color = this.status.color\n      newTask.status.txt = this.status.txt\n      newTask.txt = this.txt\n      this.group.tasks.unshift(newTask)\n      eventBus.$emit('updateGroup', this.group)\n      this.isAddBtnShown = false\n      this.txt = ''\n    }\n  },\n  created() {\n    this.groupCopy = this.group\n  },\n  components: {\n    taskPreview\n  }\n}\n</script>\n"],"sourceRoot":"src/cmps/Trello"}]}