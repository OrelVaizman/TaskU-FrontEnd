{"remainingRequest":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/babel-loader/lib/index.js!/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/services/board.service.js","dependencies":[{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/services/board.service.js","mtime":1607175842077},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL29yZWx2YWl6bWFuL0Rlc2t0b3AvZGV2L0ZpbmFsU3ByaW50L3Rhc2t1LWZyb250ZW5kL1Rhc2tVLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgaHR0cFNlcnZpY2UgfSBmcm9tICcuL2h0dHAuc2VydmljZSc7CmltcG9ydCB7IGJvYXJkVXRpbHMgfSBmcm9tICcuL2JvYXJkLXV0aWxzLnNlcnZpY2UnOwppbXBvcnQgeyB1dGlsU2VydmljZSB9IGZyb20gJy4vdXRpbC5zZXJ2aWNlJzsKZXhwb3J0IHZhciBib2FyZFNlcnZpY2UgPSB7CiAgcXVlcnk6IHF1ZXJ5LAogIGdldEJ5SWQ6IGdldEJ5SWQsCiAgcmVtb3ZlOiByZW1vdmUsCiAgc2F2ZTogc2F2ZSwKICBnZXRFbXB0eUJvYXJkOiBnZXRFbXB0eUJvYXJkLAogIGdldEVtcHR5R3JvdXA6IGdldEVtcHR5R3JvdXAsCiAgZ2V0RW1wdHlUYXNrOiBnZXRFbXB0eVRhc2ssCiAgZ2V0RW1wdHlQb3N0OiBnZXRFbXB0eVBvc3QsCiAgZ2V0RW1wdHlBY3Rpdml0eTogZ2V0RW1wdHlBY3Rpdml0eQp9OwoKZnVuY3Rpb24gcXVlcnkodXNlcklkKSB7CiAgcmV0dXJuIGh0dHBTZXJ2aWNlLmdldCgiYm9hcmQ/dXNlcklkPSIuY29uY2F0KHVzZXJJZCkpOwp9CgpmdW5jdGlvbiBnZXRCeUlkKGJvYXJkSWQpIHsKICByZXR1cm4gaHR0cFNlcnZpY2UuZ2V0KCJib2FyZC8iLmNvbmNhdChib2FyZElkKSk7Cn0KCmZ1bmN0aW9uIHJlbW92ZShib2FyZElkKSB7CiAgcmV0dXJuIGh0dHBTZXJ2aWNlLmRlbGV0ZSgiYm9hcmQvIi5jb25jYXQoYm9hcmRJZCkpOwp9CgpmdW5jdGlvbiBzYXZlKGJvYXJkKSB7CiAgdmFyIHNhdmVkQm9hcmQgPSBib2FyZC5faWQgPyBfdXBkYXRlKGJvYXJkKSA6IF9hZGQoYm9hcmQpOwogIHJldHVybiBzYXZlZEJvYXJkOwp9CgpmdW5jdGlvbiBfYWRkKF94KSB7CiAgcmV0dXJuIF9hZGQyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9hZGQyKCkgewogIF9hZGQyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGJvYXJkKSB7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGh0dHBTZXJ2aWNlLnBvc3QoImJvYXJkLyIsIGJvYXJkKSk7CgogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKICByZXR1cm4gX2FkZDIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX3VwZGF0ZShfeDIpIHsKICByZXR1cm4gX3VwZGF0ZTIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX3VwZGF0ZTIoKSB7CiAgX3VwZGF0ZTIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKGJvYXJkKSB7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgaHR0cFNlcnZpY2UucHV0KCJib2FyZC8iLmNvbmNhdChib2FyZC5faWQpLCBib2FyZCkpOwoKICAgICAgICAgIGNhc2UgMToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIpOwogIH0pKTsKICByZXR1cm4gX3VwZGF0ZTIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gZ2V0RW1wdHlCb2FyZCgpIHsKICB2YXIgYm9hcmQgPSBib2FyZFV0aWxzLmdldEVtcHR5Qm9hcmQoKTsKICBib2FyZC5zdGF0dXNlcy5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0dXMpIHsKICAgIHJldHVybiBzdGF0dXMuaWQgPSB1dGlsU2VydmljZS5tYWtlSWQoKTsKICB9KTsKICBib2FyZC5wcmlvcml0aWVzLmZvckVhY2goZnVuY3Rpb24gKHByaW9yaXR5KSB7CiAgICByZXR1cm4gcHJpb3JpdHkuaWQgPSB1dGlsU2VydmljZS5tYWtlSWQoKTsKICB9KTsKICBib2FyZC5ncm91cHMuZm9yRWFjaChmdW5jdGlvbiAoZ3JvdXApIHsKICAgIGdyb3VwLmlkID0gdXRpbFNlcnZpY2UubWFrZUlkKCk7CiAgICBncm91cC50YXNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0YXNrKSB7CiAgICAgIHRhc2suaWQgPSB1dGlsU2VydmljZS5tYWtlSWQoKTsKICAgICAgdGFzay5zdGF0dXMuaWQgPSB1dGlsU2VydmljZS5tYWtlSWQoKTsKICAgICAgdGFzay5wcmlvcml0eS5pZCA9IHV0aWxTZXJ2aWNlLm1ha2VJZCgpOwogICAgfSk7CiAgfSk7CiAgcmV0dXJuIGJvYXJkOwp9CgpmdW5jdGlvbiBnZXRFbXB0eVRhc2soKSB7CiAgdmFyIHRhc2sgPSBib2FyZFV0aWxzLmdldEVtcHR5VGFzaygpOwogIHRhc2suaWQgPSB1dGlsU2VydmljZS5tYWtlSWQoKTsKICB0YXNrLnN0YXR1cy5pZCA9IHV0aWxTZXJ2aWNlLm1ha2VJZCgpOwogIHRhc2sucHJpb3JpdHkuaWQgPSB1dGlsU2VydmljZS5tYWtlSWQoKTsKICByZXR1cm4gdGFzazsKfQoKZnVuY3Rpb24gZ2V0RW1wdHlHcm91cCgpIHsKICB2YXIgZ3JvdXAgPSBib2FyZFV0aWxzLmdldEVtcHR5R3JvdXAoKTsKICBncm91cC5pZCA9IHV0aWxTZXJ2aWNlLm1ha2VJZCgpOwogIGdyb3VwLnRhc2tzLmZvckVhY2goZnVuY3Rpb24gKHRhc2spIHsKICAgIHRhc2suaWQgPSB1dGlsU2VydmljZS5tYWtlSWQoKTsKICAgIHRhc2suc3RhdHVzLmlkID0gdXRpbFNlcnZpY2UubWFrZUlkKCk7CiAgICB0YXNrLnByaW9yaXR5LmlkID0gdXRpbFNlcnZpY2UubWFrZUlkKCk7CiAgfSk7CiAgcmV0dXJuIGdyb3VwOwp9CgpmdW5jdGlvbiBnZXRFbXB0eVBvc3QoKSB7CiAgdmFyIHBvc3QgPSBib2FyZFV0aWxzLmdldEVtcHR5UG9zdCgpOwogIHBvc3QuaWQgPSB1dGlsU2VydmljZS5tYWtlSWQoKTsKICBwb3N0LmNyZWF0ZWRBdCA9IERhdGUubm93KCk7CiAgcmV0dXJuIHBvc3Q7Cn0KCmZ1bmN0aW9uIGdldEVtcHR5QWN0aXZpdHkodHh0LCB1c2VyKSB7CiAgdmFyIGFjdGl2aXR5ID0gYm9hcmRVdGlscy5nZXRFbXB0eUFjdGl2aXR5KCk7CiAgYWN0aXZpdHkuaWQgPSB1dGlsU2VydmljZS5tYWtlSWQoKTsKICBhY3Rpdml0eS5ieVVzZXIgPSB1c2VyOwogIGFjdGl2aXR5LnR4dCA9IHR4dDsKICBhY3Rpdml0eS5jcmVhdGVkQXQgPSBEYXRlLm5vdygpOwogIHJldHVybiBhY3Rpdml0eTsKfQ=="},{"version":3,"sources":["/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/services/board.service.js"],"names":["httpService","boardUtils","utilService","boardService","query","getById","remove","save","getEmptyBoard","getEmptyGroup","getEmptyTask","getEmptyPost","getEmptyActivity","userId","get","boardId","delete","board","savedBoard","_id","_update","_add","post","put","statuses","forEach","status","id","makeId","priorities","priority","groups","group","tasks","task","createdAt","Date","now","txt","user","activity","byUser"],"mappings":"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","sourcesContent":["import { httpService } from './http.service';\nimport { boardUtils } from './board-utils.service';\nimport { utilService } from './util.service'\nexport const boardService = {\n    query,\n    getById,\n    remove,\n    save,\n    getEmptyBoard,\n    getEmptyGroup,\n    getEmptyTask,\n    getEmptyPost,\n    getEmptyActivity\n};\n\nfunction query(userId) {\n    return httpService.get(`board?userId=${userId}`);\n}\n\nfunction getById(boardId) {\n    return httpService.get(`board/${boardId}`);\n}\n\nfunction remove(boardId) {\n    return httpService.delete(`board/${boardId}`);\n}\n\nfunction save(board) {\n    const savedBoard = board._id ? _update(board) : _add(board);\n    return savedBoard;\n}\n\nasync function _add(board) {\n    return httpService.post(`board/`, board);\n}\n\nasync function _update(board) {\n    return httpService.put(`board/${board._id}`, board);\n}\n\nfunction getEmptyBoard() {\n    const board = boardUtils.getEmptyBoard()\n    board.statuses.forEach(status => status.id = utilService.makeId())\n    board.priorities.forEach(priority => priority.id = utilService.makeId())\n    board.groups.forEach(group => {\n        group.id = utilService.makeId()\n        group.tasks.forEach(task => {\n            task.id = utilService.makeId()\n            task.status.id = utilService.makeId()\n            task.priority.id = utilService.makeId()\n        })\n    }\n    )\n    return board\n}\nfunction getEmptyTask() {\n    const task = boardUtils.getEmptyTask()\n    task.id = utilService.makeId()\n    task.status.id = utilService.makeId()\n    task.priority.id = utilService.makeId()\n    return task\n}\n\nfunction getEmptyGroup() {\n    const group = boardUtils.getEmptyGroup()\n    group.id = utilService.makeId()\n    group.tasks.forEach(task => {\n        task.id = utilService.makeId()\n        task.status.id = utilService.makeId()\n        task.priority.id = utilService.makeId()\n    });\n    return group\n}\n\nfunction getEmptyPost() {\n    const post = boardUtils.getEmptyPost()\n    post.id = utilService.makeId()\n    post.createdAt = Date.now()\n    return post\n}\n\nfunction getEmptyActivity(txt, user) {\n    const activity = boardUtils.getEmptyActivity()\n    activity.id = utilService.makeId()\n    activity.byUser = user\n    activity.txt = txt\n    activity.createdAt = Date.now()\n    return activity\n}"]}]}