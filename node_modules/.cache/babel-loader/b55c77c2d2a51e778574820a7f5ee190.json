{"remainingRequest":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/babel-loader/lib/index.js!/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/services/board.service.js","dependencies":[{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/services/board.service.js","mtime":1606595400645},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL29yZWx2YWl6bWFuL0Rlc2t0b3AvZGV2L0ZpbmFsU3ByaW50L3Rhc2t1LWZyb250ZW5kL1Rhc2tVLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgaHR0cFNlcnZpY2UgfSBmcm9tICcuL2h0dHAuc2VydmljZSc7CmltcG9ydCB7IGJvYXJkVXRpbHMgfSBmcm9tICcuL2JvYXJkLXV0aWxzLnNlcnZpY2UnOwppbXBvcnQgeyB1dGlsU2VydmljZSB9IGZyb20gJy4vdXRpbC5zZXJ2aWNlJzsKZXhwb3J0IHZhciBib2FyZFNlcnZpY2UgPSB7CiAgcXVlcnk6IHF1ZXJ5LAogIGdldEJ5SWQ6IGdldEJ5SWQsCiAgcmVtb3ZlOiByZW1vdmUsCiAgc2F2ZTogc2F2ZSwKICBnZXRFbXB0eUJvYXJkOiBnZXRFbXB0eUJvYXJkLAogIGdldEVtcHR5R3JvdXA6IGdldEVtcHR5R3JvdXAsCiAgZ2V0RW1wdHlUYXNrOiBnZXRFbXB0eVRhc2ssCiAgZ2V0RW1wdHlQb3N0OiBnZXRFbXB0eVBvc3QsCiAgZ2V0RW1wdHlBY3Rpdml0eTogZ2V0RW1wdHlBY3Rpdml0eQp9OwoKZnVuY3Rpb24gcXVlcnkoKSB7CiAgcmV0dXJuIGh0dHBTZXJ2aWNlLmdldCgnYm9hcmQnKTsKfQoKZnVuY3Rpb24gZ2V0QnlJZChib2FyZElkKSB7CiAgcmV0dXJuIGh0dHBTZXJ2aWNlLmdldCgiYm9hcmQvIi5jb25jYXQoYm9hcmRJZCkpOwp9CgpmdW5jdGlvbiByZW1vdmUoYm9hcmRJZCkgewogIHJldHVybiBodHRwU2VydmljZS5kZWxldGUoImJvYXJkLyIuY29uY2F0KGJvYXJkSWQpKTsKfQoKZnVuY3Rpb24gc2F2ZShib2FyZCkgewogIHZhciBzYXZlZEJvYXJkID0gYm9hcmQuX2lkID8gX3VwZGF0ZShib2FyZCkgOiBfYWRkKGJvYXJkKTsKICByZXR1cm4gc2F2ZWRCb2FyZDsKfQoKZnVuY3Rpb24gX2FkZChfeCkgewogIHJldHVybiBfYWRkMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfYWRkMigpIHsKICBfYWRkMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShib2FyZCkgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBodHRwU2VydmljZS5wb3N0KCJib2FyZC8iLCBib2FyZCkpOwoKICAgICAgICAgIGNhc2UgMToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CiAgcmV0dXJuIF9hZGQyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF91cGRhdGUoX3gyKSB7CiAgcmV0dXJuIF91cGRhdGUyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF91cGRhdGUyKCkgewogIF91cGRhdGUyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihib2FyZCkgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGh0dHBTZXJ2aWNlLnB1dCgiYm9hcmQvIi5jb25jYXQoYm9hcmQuX2lkKSwgYm9hcmQpKTsKCiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUyKTsKICB9KSk7CiAgcmV0dXJuIF91cGRhdGUyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIGdldEVtcHR5Qm9hcmQoKSB7CiAgdmFyIGJvYXJkID0gYm9hcmRVdGlscy5nZXRFbXB0eUJvYXJkKCk7CiAgYm9hcmQuc3RhdHVzZXMuZm9yRWFjaChmdW5jdGlvbiAoc3RhdHVzKSB7CiAgICByZXR1cm4gc3RhdHVzLmlkID0gdXRpbFNlcnZpY2UubWFrZUlkKCk7CiAgfSk7CiAgYm9hcmQucHJpb3JpdGllcy5mb3JFYWNoKGZ1bmN0aW9uIChwcmlvcml0eSkgewogICAgcmV0dXJuIHByaW9yaXR5LmlkID0gdXRpbFNlcnZpY2UubWFrZUlkKCk7CiAgfSk7CiAgYm9hcmQuZ3JvdXBzLmZvckVhY2goZnVuY3Rpb24gKGdyb3VwKSB7CiAgICBncm91cC5pZCA9IHV0aWxTZXJ2aWNlLm1ha2VJZCgpOwogICAgZ3JvdXAudGFza3MuZm9yRWFjaChmdW5jdGlvbiAodGFzaykgewogICAgICB0YXNrLmlkID0gdXRpbFNlcnZpY2UubWFrZUlkKCk7CiAgICAgIHRhc2suc3RhdHVzLmlkID0gdXRpbFNlcnZpY2UubWFrZUlkKCk7CiAgICAgIHRhc2sucHJpb3JpdHkuaWQgPSB1dGlsU2VydmljZS5tYWtlSWQoKTsKICAgIH0pOwogIH0pOwogIHJldHVybiBib2FyZDsKfQoKZnVuY3Rpb24gZ2V0RW1wdHlUYXNrKCkgewogIHZhciB0YXNrID0gYm9hcmRVdGlscy5nZXRFbXB0eVRhc2soKTsKICB0YXNrLmlkID0gdXRpbFNlcnZpY2UubWFrZUlkKCk7CiAgdGFzay5zdGF0dXMuaWQgPSB1dGlsU2VydmljZS5tYWtlSWQoKTsKICB0YXNrLnByaW9yaXR5LmlkID0gdXRpbFNlcnZpY2UubWFrZUlkKCk7CiAgcmV0dXJuIHRhc2s7Cn0KCmZ1bmN0aW9uIGdldEVtcHR5R3JvdXAoKSB7CiAgdmFyIGdyb3VwID0gYm9hcmRVdGlscy5nZXRFbXB0eUdyb3VwKCk7CiAgZ3JvdXAuaWQgPSB1dGlsU2VydmljZS5tYWtlSWQoKTsKICBncm91cC50YXNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0YXNrKSB7CiAgICB0YXNrLmlkID0gdXRpbFNlcnZpY2UubWFrZUlkKCk7CiAgICB0YXNrLnN0YXR1cy5pZCA9IHV0aWxTZXJ2aWNlLm1ha2VJZCgpOwogICAgdGFzay5wcmlvcml0eS5pZCA9IHV0aWxTZXJ2aWNlLm1ha2VJZCgpOwogIH0pOwogIHJldHVybiBncm91cDsKfQoKZnVuY3Rpb24gZ2V0RW1wdHlQb3N0KCkgewogIHZhciBwb3N0ID0gYm9hcmRVdGlscy5nZXRFbXB0eVBvc3QoKTsKICBwb3N0LmlkID0gdXRpbFNlcnZpY2UubWFrZUlkKCk7CiAgcmV0dXJuIHBvc3Q7Cn0KCmZ1bmN0aW9uIGdldEVtcHR5QWN0aXZpdHkoKSB7CiAgdmFyIGFjdGl2aXR5ID0gYm9hcmRVdGlscy5nZXRFbXB0eUFjdGl2aXR5KCk7CiAgYWN0aXZpdHkuaWQgPSB1dGlsU2VydmljZS5tYWtlSWQoKTsKICBhY3Rpdml0eS5jcmVhdGVkQXQgPSBEYXRlLm5vdygpOwogIHJldHVybiBhY3Rpdml0eTsKfQ=="},{"version":3,"sources":["/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/services/board.service.js"],"names":["httpService","boardUtils","utilService","boardService","query","getById","remove","save","getEmptyBoard","getEmptyGroup","getEmptyTask","getEmptyPost","getEmptyActivity","get","boardId","delete","board","savedBoard","_id","_update","_add","post","put","statuses","forEach","status","id","makeId","priorities","priority","groups","group","tasks","task","activity","createdAt","Date","now"],"mappings":"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","sourcesContent":["import { httpService } from './http.service';\nimport { boardUtils } from './board-utils.service';\nimport { utilService } from './util.service'\nexport const boardService = {\n    query,\n    getById,\n    remove,\n    save,\n    getEmptyBoard,\n    getEmptyGroup,\n    getEmptyTask,\n    getEmptyPost,\n    getEmptyActivity\n};\n\nfunction query() {\n    return httpService.get('board');\n}\n\nfunction getById(boardId) {\n    return httpService.get(`board/${boardId}`);\n}\n\nfunction remove(boardId) {\n    return httpService.delete(`board/${boardId}`);\n}\n\nfunction save(board) {\n    const savedBoard = board._id ? _update(board) : _add(board);\n    return savedBoard;\n}\n\nasync function _add(board) {\n    return httpService.post(`board/`, board);\n}\n\nasync function _update(board) {\n    return httpService.put(`board/${board._id}`, board);\n}\n\nfunction getEmptyBoard() {\n    const board = boardUtils.getEmptyBoard()\n    board.statuses.forEach(status => status.id = utilService.makeId())\n    board.priorities.forEach(priority => priority.id = utilService.makeId())\n    board.groups.forEach(group => {\n        group.id = utilService.makeId()\n        group.tasks.forEach(task => {\n            task.id = utilService.makeId()\n            task.status.id = utilService.makeId()\n            task.priority.id = utilService.makeId()\n        })\n    }\n    )\n    return board\n}\nfunction getEmptyTask() {\n    const task = boardUtils.getEmptyTask()\n    task.id = utilService.makeId()\n    task.status.id = utilService.makeId()\n    task.priority.id = utilService.makeId()\n    return task\n}\n\nfunction getEmptyGroup() {\n    const group = boardUtils.getEmptyGroup()\n    group.id = utilService.makeId()\n    group.tasks.forEach(task => {\n        task.id = utilService.makeId()\n        task.status.id = utilService.makeId()\n        task.priority.id = utilService.makeId()\n    });\n    return group\n}\n\nfunction getEmptyPost() {\n    const post = boardUtils.getEmptyPost()\n    post.id = utilService.makeId()\n    return post\n}\n\nfunction getEmptyActivity() {\n    const activity = boardUtils.getEmptyActivity()\n    activity.id = utilService.makeId()\n    activity.createdAt = Date.now() \n    return activity\n}"]}]}