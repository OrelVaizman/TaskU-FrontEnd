{"remainingRequest":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/babel-loader/lib/index.js!/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/services/board.service.js","dependencies":[{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/services/board.service.js","mtime":1606396918506},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL29yZWx2YWl6bWFuL0Rlc2t0b3AvZGV2L0ZpbmFsU3ByaW50L3Rhc2t1LWZyb250ZW5kL1Rhc2tVLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgaHR0cFNlcnZpY2UgfSBmcm9tICcuL2h0dHAuc2VydmljZSc7CmltcG9ydCB7IGJvYXJkVXRpbHMgfSBmcm9tICcuL2JvYXJkLXV0aWxzLnNlcnZpY2UnOwppbXBvcnQgeyB1dGlsU2VydmljZSB9IGZyb20gJy4vdXRpbC5zZXJ2aWNlJzsKZXhwb3J0IHZhciBib2FyZFNlcnZpY2UgPSB7CiAgcXVlcnk6IHF1ZXJ5LAogIGdldEJ5SWQ6IGdldEJ5SWQsCiAgcmVtb3ZlOiByZW1vdmUsCiAgc2F2ZTogc2F2ZSwKICBnZXRFbXB0eUJvYXJkOiBnZXRFbXB0eUJvYXJkLAogIGdldEVtcHR5R3JvdXA6IGdldEVtcHR5R3JvdXAsCiAgZ2V0RW1wdHlUYXNrOiBnZXRFbXB0eVRhc2sKfTsKCmZ1bmN0aW9uIHF1ZXJ5KCkgewogIHJldHVybiBodHRwU2VydmljZS5nZXQoJ2JvYXJkJyk7Cn0KCmZ1bmN0aW9uIGdldEJ5SWQoYm9hcmRJZCkgewogIHJldHVybiBodHRwU2VydmljZS5nZXQoImJvYXJkLyIuY29uY2F0KGJvYXJkSWQpKTsKfQoKZnVuY3Rpb24gcmVtb3ZlKGJvYXJkSWQpIHsKICByZXR1cm4gaHR0cFNlcnZpY2UuZGVsZXRlKCJib2FyZC8iLmNvbmNhdChib2FyZElkKSk7Cn0KCmZ1bmN0aW9uIHNhdmUoYm9hcmQpIHsKICB2YXIgc2F2ZWRCb2FyZCA9IGJvYXJkLl9pZCA/IF91cGRhdGUoYm9hcmQpIDogX2FkZChib2FyZCk7CiAgcmV0dXJuIHNhdmVkQm9hcmQ7Cn0KCmZ1bmN0aW9uIF9hZGQoX3gpIHsKICByZXR1cm4gX2FkZDIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2FkZDIoKSB7CiAgX2FkZDIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoYm9hcmQpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgaHR0cFNlcnZpY2UucG9zdCgiYm9hcmQvIiwgYm9hcmQpKTsKCiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwogIHJldHVybiBfYWRkMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfdXBkYXRlKF94MikgewogIHJldHVybiBfdXBkYXRlMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfdXBkYXRlMigpIHsKICBfdXBkYXRlMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoYm9hcmQpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBodHRwU2VydmljZS5wdXQoImJvYXJkLyIuY29uY2F0KGJvYXJkLl9pZCksIGJvYXJkKSk7CgogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMik7CiAgfSkpOwogIHJldHVybiBfdXBkYXRlMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBnZXRFbXB0eUJvYXJkKCkgewogIHZhciBib2FyZCA9IGJvYXJkVXRpbHMuZ2V0RW1wdHlCb2FyZCgpOwogIGJvYXJkLnN0YXR1c2VzLmZvckVhY2goZnVuY3Rpb24gKHN0YXR1cykgewogICAgcmV0dXJuIHN0YXR1cy5pZCA9IHV0aWxTZXJ2aWNlLm1ha2VJZCgpOwogIH0pOwogIGJvYXJkLnByaW9yaXRpZXMuZm9yRWFjaChmdW5jdGlvbiAocHJpb3JpdHkpIHsKICAgIHJldHVybiBwcmlvcml0eS5pZCA9IHV0aWxTZXJ2aWNlLm1ha2VJZCgpOwogIH0pOwogIGJvYXJkLmdyb3Vwcy5mb3JFYWNoKGZ1bmN0aW9uIChncm91cCkgewogICAgZ3JvdXAuaWQgPSB1dGlsU2VydmljZS5tYWtlSWQoKTsKICAgIGdyb3VwLnRhc2tzLmZvckVhY2goZnVuY3Rpb24gKHRhc2spIHsKICAgICAgdGFzay5pZCA9IHV0aWxTZXJ2aWNlLm1ha2VJZCgpOwogICAgICB0YXNrLnN0YXR1cy5pZCA9IHV0aWxTZXJ2aWNlLm1ha2VJZCgpOwogICAgICB0YXNrLnByaW9yaXR5LmlkID0gdXRpbFNlcnZpY2UubWFrZUlkKCk7CiAgICB9KTsKICB9KTsKICByZXR1cm4gYm9hcmQ7Cn0KCmZ1bmN0aW9uIGdldEVtcHR5VGFzaygpIHsKICB2YXIgdGFzayA9IGJvYXJkVXRpbHMuZ2V0RW1wdHlUYXNrKCk7CiAgdGFzay5pZCA9IHV0aWxTZXJ2aWNlLm1ha2VJZCgpOwogIHRhc2suc3RhdHVzLmlkID0gdXRpbFNlcnZpY2UubWFrZUlkKCk7CiAgdGFzay5wcmlvcml0eS5pZCA9IHV0aWxTZXJ2aWNlLm1ha2VJZCgpOwogIHJldHVybiB0YXNrOwp9CgpmdW5jdGlvbiBnZXRFbXB0eUdyb3VwKCkgewogIHZhciBncm91cCA9IGJvYXJkVXRpbHMuZ2V0RW1wdHlHcm91cCgpOwogIGdyb3VwLmlkID0gdXRpbFNlcnZpY2UubWFrZUlkKCk7CiAgZ3JvdXAudGFza3MuZm9yRWFjaChmdW5jdGlvbiAodGFzaykgewogICAgdGFzay5pZCA9IHV0aWxTZXJ2aWNlLm1ha2VJZCgpOwogICAgdGFzay5zdGF0dXMuaWQgPSB1dGlsU2VydmljZS5tYWtlSWQoKTsKICAgIHRhc2sucHJpb3JpdHkuaWQgPSB1dGlsU2VydmljZS5tYWtlSWQoKTsKICB9KTsKICByZXR1cm4gZ3JvdXA7Cn0="},{"version":3,"sources":["/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/services/board.service.js"],"names":["httpService","boardUtils","utilService","boardService","query","getById","remove","save","getEmptyBoard","getEmptyGroup","getEmptyTask","get","boardId","delete","board","savedBoard","_id","_update","_add","post","put","statuses","forEach","status","id","makeId","priorities","priority","groups","group","tasks","task"],"mappings":"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","sourcesContent":["import { httpService } from './http.service';\nimport {boardUtils} from './board-utils.service';\nimport {utilService} from './util.service'\nexport const boardService = {\n    query,\n    getById,\n    remove,\n    save,\n    getEmptyBoard,\n    getEmptyGroup,\n    getEmptyTask\n};\n\nfunction query() {\n    return httpService.get('board');\n}\n\nfunction getById(boardId) {\n    return httpService.get(`board/${boardId}`);\n}\n\nfunction remove(boardId) {\n    return httpService.delete(`board/${boardId}`);\n}\n\nfunction save(board) {\n    const savedBoard = board._id ? _update(board) : _add(board);\n    return savedBoard;\n}\n\nasync function _add(board) {\n    return httpService.post(`board/`, board);\n}\n\nasync function _update(board) {\n    return httpService.put(`board/${board._id}`, board);\n}\n\nfunction getEmptyBoard(){\n    const board = boardUtils.getEmptyBoard()\n    board.statuses.forEach(status=>status.id=utilService.makeId())\n    board.priorities.forEach(priority=>priority.id=utilService.makeId())\n    board.groups.forEach(group=>{\n        group.id=utilService.makeId()\n        group.tasks.forEach(task=>{\n            task.id = utilService.makeId()\n            task.status.id =utilService.makeId()\n            task.priority.id =utilService.makeId()\n        })\n    }\n        )\n    return board\n}\nfunction getEmptyTask(){\n   const task =  boardUtils.getEmptyTask()\n   task.id = utilService.makeId()\n   task.status.id =utilService.makeId()\n   task.priority.id =utilService.makeId()\n   return task\n}\n\nfunction getEmptyGroup(){\n    const group = boardUtils.getEmptyGroup()\n    group.id = utilService.makeId()\n    group.tasks.forEach(task => {\n        task.id = utilService.makeId()\n        task.status.id =utilService.makeId()\n        task.priority.id =utilService.makeId()\n    });\n    return group\n}"]}]}