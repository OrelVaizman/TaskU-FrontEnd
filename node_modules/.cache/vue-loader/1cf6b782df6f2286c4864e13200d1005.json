{"remainingRequest":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/views/app-login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/views/app-login.vue","mtime":1607213336703},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCBnb29nbGVMb2dpbiBmcm9tICd2dWUtZ29vZ2xlLWxvZ2luJwoKZXhwb3J0IGRlZmF1bHQgewo8PDw8PDw8IEhFQUQKICAgIG5hbWU6ICdhcHAtbG9naW4nLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBsb2dpbkNyZWRlbnRpYWxzOiB7CiAgICAgICAgICAgICAgICBlbWFpbDogbnVsbCwKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBudWxsLAogICAgICAgICAgICAgICAgaXNBZG1pbjogZmFsc2UsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGlzRWxlbWVudERpc2FibGVkOiBmYWxzZSwKICAgICAgICAgICAgZ29vZ2xlU2lnbkluUGFyYW1zOiB7CiAgICAgICAgICAgICAgICBjbGllbnRJZDoKICAgICAgICAgICAgICAgICAgICAnMzYyMTc0NjI4MDk3LWFsdDZ0b25qYWtpcTQwcGNtNmk5cm5vMjg5OTdyZ2ZoLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tJywKICAgICAgICAgICAgfSwKICAgICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBkZWZhdWx0Qm9hcmRJZCgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuZGVmYXVsdEJvYXJkSWQKICAgICAgICB9LAogICAgfSwKICAgIGNyZWF0ZWQoKSB7fSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBhc3luYyBzdWJtaXRMb2dpbigpIHsKICAgICAgICAgICAgY29uc3QgdXNlckNyZWQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMubG9naW5DcmVkZW50aWFscykpCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBsZXQgdXNlciA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbG9naW4nLAogICAgICAgICAgICAgICAgICAgIHVzZXJDcmVkLAogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIGlmICh1c2VyKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0VsZW1lbnREaXNhYmxlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdsb2FkQm9hcmRzJyB9KQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd1c2VyIGFmdGVyIGxvZ2luOicsIHVzZXIpCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwLAogICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiAzMzUsCiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICJZb3UndmUgc3VjZXNzZnVsbHkgbG9nZ2VkIGluISIsCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goYC9ib2FyZC8ke3RoaXMuZGVmYXVsdEJvYXJkSWR9YCkKICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgIGlmIChlcnIucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgICAgZHVydGlvbjogMjAwMCwKICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IDMzNSwKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0luY29ycmVjdCBlbWFpbCBvciBwYXNzd29yZC4nLAogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gdGhpcy4kc3RvcmUuZGlzcGF0Y2goewogICAgICAgICAgICAvLyAgIHR5cGU6ICdjcmVhdGVQcml2YXRlU29ja2V0JywKICAgICAgICAgICAgLy8gICB1c2VySWQ6IHVzZXIuX2lkCiAgICAgICAgICAgIC8vIH0pCiAgICAgICAgICAgIHRoaXMubG9naW5DcmVkZW50aWFscyA9IHsKICAgICAgICAgICAgICAgIGVtYWlsOiBudWxsLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6IG51bGwsCiAgICAgICAgICAgICAgICBpc0FkbWluOiBmYWxzZSwKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy8gb25Hb29nbGVTdWNjZXNzKG9iaikgewogICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhvYmopCiAgICAgICAgLy8gfSwKICAgICAgICAvLyBvbkdvb2dsZUZhaWx1cmUoZ29vZ2xlVXNlcikgewogICAgICAgIC8vICAgICBnb29nbGVVc2VyLmdldEJhc2ljUHJvZmlsZSgpCiAgICAgICAgLy8gfSwKICAgIH0sCiAgICAvLyBjb21wb25lbnRzOiB7CiAgICAvLyAgICAgZ29vZ2xlTG9naW4sCiAgICAvLyB9LAo9PT09PT09CiAgbmFtZTogJ2FwcC1sb2dpbicsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvZ2luQ3JlZGVudGlhbHM6IHsKICAgICAgICBlbWFpbDogbnVsbCwKICAgICAgICBwYXNzd29yZDogbnVsbCwKICAgICAgICBpc0FkbWluOiBmYWxzZQogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgZGVmYXVsdEJvYXJkSWQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmRlZmF1bHRCb2FyZElkCiAgICB9CiAgfSwKICBjcmVhdGVkKCkge30sCiAgbWV0aG9kczogewogICAgYXN5bmMgc3VibWl0TG9naW4oKSB7CiAgICAgIGNvbnN0IHVzZXJDcmVkID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmxvZ2luQ3JlZGVudGlhbHMpKQogICAgICB0cnkgewogICAgICAgIGxldCB1c2VyID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goewogICAgICAgICAgdHlwZTogJ2xvZ2luJywKICAgICAgICAgIHVzZXJDcmVkCiAgICAgICAgfSkKICAgICAgICBpZiAodXNlcikgewogICAgICAgICAgdGhpcy4kcmVmcy5sb2dpbkJ0bi5kaXNhYmxlZCA9IHRydWUKICAgICAgICAgIC8vIHRoaXMuJHJlZnMuZW1haWxJbnB1dC5kaXNhYmxlZCA9IHRydWUKICAgICAgICAgIC8vIHRoaXMuJHJlZnMucGFzc3dvcmRJbnB1dC5kaXNhYmxlZCA9IHRydWUKICAgICAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ2xvYWRCb2FyZHMnIH0pCiAgICAgICAgICBjb25zb2xlLmxvZygndXNlciBhZnRlciBsb2dpbjonLCB1c2VyKQogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLAogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgbWVzc2FnZTogIllvdSd2ZSBzdWNlc3NmdWxseSBsb2dnZWQgaW4hIgogICAgICAgICAgfSkKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvYm9hcmQvJHt0aGlzLmRlZmF1bHRCb2FyZElkfWApCiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKQogICAgICAgIC8vIGlmIChlcnIpIHsKICAgICAgICAvLyAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgLy8gICAgICAgICBkdXJ0aW9uOiAyMDAwLAogICAgICAgIC8vICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgIC8vICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAvLyAgICAgICAgIG9mZnNldDogMzM1LAogICAgICAgIC8vICAgICAgICAgbWVzc2FnZTogJ0luY29ycmVjdCBlbWFpbCBvciBwYXNzd29yZC4nLAogICAgICAgIC8vICAgICB9KQogICAgICAgIC8vIH0KICAgICAgfQoKICAgICAgdGhpcy5sb2dpbkNyZWRlbnRpYWxzID0gewogICAgICAgIGVtYWlsOiBudWxsLAogICAgICAgIHBhc3N3b3JkOiBudWxsLAogICAgICAgIGlzQWRtaW46IGZhbHNlCiAgICAgIH0KICAgIH0KICB9Cj4+Pj4+Pj4gNmUxNmEwMTQxZWE5N2Q4OWU3MjY0MTk4ODhiMWEyZTY4MzUyMzdlOQp9Cg=="},{"version":3,"sources":["app-login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app-login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <section class=\"app-login-container\">\n        <div class=\"login-header\">\n            <router-link to=\"/\"\n                ><img\n                    class=\"logo2 flex end\"\n                    src=\"@/assets/imgs/logo2.png\"\n                    alt=\"\"\n            /></router-link>\n        </div>\n        <section class=\"app-login flex column\">\n            <div class=\"flex column justify-center\">\n                <h2 class=\"login-title\">\n                    Log <span class=\"thin-fonted\">In</span>\n                </h2>\n                <form\n                    class=\"flex column justify-center align-center\"\n                    @submit.prevent=\"submitLogin\"\n                >\n                    <el-input\n                        type=\"text\"\n                        v-model=\"loginCredentials.email\"\n                        placeholder=\"Email\"\n                        :disabled=\"isElementDisabled\"\n                    />\n\n                    <el-input\n                        type=\"password\"\n                        v-model=\"loginCredentials.password\"\n                        placeholder=\"Password\"\n                        :disabled=\"isElementDisabled\"\n                    />\n\n                    <button class=\"login-btn\" :disabled=\"isElementDisabled\">\n                        Login\n                    </button>\n                </form>\n                <div class=\"social-login flex align-center\">\n                    <span class=\"separator-line\"></span>\n                    <div\n                        class=\"login-subtitle flex align-center justify-center\"\n                    >\n                        Or Sign-in with\n                    </div>\n                    <span class=\"separator-line\"></span>\n                </div>\n                <div class=\"social-logos flex space-between\">\n                    <div class=\"social-option\">\n                        <img src=\"@/assets/imgs/logo_google.png\" />\n                        Google\n                    </div>\n                    <div class=\"social-option\">\n                        <img src=\"@/assets/imgs/facebook_logo.png\" />\n                        Facebook\n                    </div>\n                </div>\n                <div class=\"signup-section flex align-center\">\n                    <span class=\"separator-line\"></span>\n                    <div\n                        class=\"login-subtitle flex align-center justify-center\"\n                    >\n                        Don't have a user yet?\n\n                        <router-link to=\"/signup\">\n                            <span class=\"btn-content\"> Signup</span>\n                        </router-link>\n                    </div>\n                    <span class=\"separator-line\"></span>\n                </div>\n                <!-- <googleLogin\n                    :params=\"googleSignInParams\"\n                    :onSuccess=\"onGoogleSuccess\"\n                    :onFailure=\"onGoogleFailure\"\n                    >Login</googleLogin\n                > -->\n            </div>\n        </section>\n    </section>\n  </section>\n</template>\n\n<script>\n// import googleLogin from 'vue-google-login'\n\nexport default {\n<<<<<<< HEAD\n    name: 'app-login',\n    data() {\n        return {\n            loginCredentials: {\n                email: null,\n                password: null,\n                isAdmin: false,\n            },\n            isElementDisabled: false,\n            googleSignInParams: {\n                clientId:\n                    '362174628097-alt6tonjakiq40pcm6i9rno28997rgfh.apps.googleusercontent.com',\n            },\n        }\n    },\n    computed: {\n        defaultBoardId() {\n            return this.$store.getters.defaultBoardId\n        },\n    },\n    created() {},\n    methods: {\n        async submitLogin() {\n            const userCred = JSON.parse(JSON.stringify(this.loginCredentials))\n            try {\n                let user = await this.$store.dispatch({\n                    type: 'login',\n                    userCred,\n                })\n                if (user) {\n                    this.isElementDisabled = true\n                    await this.$store.dispatch({ type: 'loadBoards' })\n                    console.log('user after login:', user)\n                    this.$message({\n                        duration: 2000,\n                        showClose: true,\n                        type: 'success',\n                        offset: 335,\n                        message: \"You've sucessfully logged in!\",\n                    })\n                    setTimeout(() => {\n                        this.$router.push(`/board/${this.defaultBoardId}`)\n                    }, 2000)\n                }\n            } catch (err) {\n                if (err.response.status === 401) {\n                    this.$message({\n                        durtion: 2000,\n                        showClose: true,\n                        type: 'error',\n                        offset: 335,\n                        message: 'Incorrect email or password.',\n                    })\n                }\n            }\n            // this.$store.dispatch({\n            //   type: 'createPrivateSocket',\n            //   userId: user._id\n            // })\n            this.loginCredentials = {\n                email: null,\n                password: null,\n                isAdmin: false,\n            }\n        },\n        // onGoogleSuccess(obj) {\n        //     console.log(obj)\n        // },\n        // onGoogleFailure(googleUser) {\n        //     googleUser.getBasicProfile()\n        // },\n    },\n    // components: {\n    //     googleLogin,\n    // },\n=======\n  name: 'app-login',\n  data() {\n    return {\n      loginCredentials: {\n        email: null,\n        password: null,\n        isAdmin: false\n      }\n    }\n  },\n  computed: {\n    defaultBoardId() {\n      return this.$store.getters.defaultBoardId\n    }\n  },\n  created() {},\n  methods: {\n    async submitLogin() {\n      const userCred = JSON.parse(JSON.stringify(this.loginCredentials))\n      try {\n        let user = await this.$store.dispatch({\n          type: 'login',\n          userCred\n        })\n        if (user) {\n          this.$refs.loginBtn.disabled = true\n          // this.$refs.emailInput.disabled = true\n          // this.$refs.passwordInput.disabled = true\n          await this.$store.dispatch({ type: 'loadBoards' })\n          console.log('user after login:', user)\n          this.$message({\n            duration: 1000,\n            showClose: true,\n            type: 'success',\n            message: \"You've sucessfully logged in!\"\n          })\n          this.$router.push(`/board/${this.defaultBoardId}`)\n        }\n      } catch (err) {\n          console.error(err)\n        // if (err) {\n        //     this.$message({\n        //         durtion: 2000,\n        //         showClose: true,\n        //         type: 'error',\n        //         offset: 335,\n        //         message: 'Incorrect email or password.',\n        //     })\n        // }\n      }\n\n      this.loginCredentials = {\n        email: null,\n        password: null,\n        isAdmin: false\n      }\n    }\n  }\n>>>>>>> 6e16a0141ea97d89e726419888b1a2e6835237e9\n}\n</script>\n"]}]}