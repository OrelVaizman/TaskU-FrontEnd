{"remainingRequest":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/views/board-app.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/views/board-app.vue","mtime":1606465487384},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtZW1iZXJzIGZyb20gJ0AvY21wcy9tZW1iZXJzJwppbXBvcnQgZ3JvdXBMaXN0IGZyb20gJ0AvY21wcy9ncm91cC1saXN0JwppbXBvcnQgYm9hcmRMaXN0IGZyb20gJ0AvY21wcy9ib2FyZC1saXN0LnZ1ZScKLy8gaW1wb3J0IHRhc2tEZXRhaWxzIGZyb20gJy4uL3ZpZXdzL3Rhc2stZGV0YWlscycKaW1wb3J0IHsgYm9hcmRTZXJ2aWNlIH0gZnJvbSAnQC9zZXJ2aWNlcy9ib2FyZC5zZXJ2aWNlJwppbXBvcnQgeyBldmVudEJ1cyB9IGZyb20gJ0Avc2VydmljZXMvZXZlbnQtYnVzLnNlcnZpY2UnCgppbXBvcnQgYm9hcmRGaWx0ZXIgZnJvbSAnQC9jbXBzL2JvYXJkLWZpbHRlci52dWUnCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnYm9hcmQtYXBwJywKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaXNBZGRNZW1iZXJzOiBmYWxzZSwKICAgICAgICAgICAgY3VyclRhc2s6IG51bGwsCiAgICAgICAgICAgIGlzUm91dGVyVmlld0hvdmVyOiBmYWxzZSwKICAgICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBib2FyZCgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuYm9hcmQKICAgICAgICB9LAogICAgICAgIGJvYXJkcygpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuYm9hcmRzCiAgICAgICAgfSwKICAgICAgICB1c2Vyc1NpdGUoKSB7CiAgICAgICAgICAgIGNvbnN0IHNpdGVVc2VycyA9IHRoaXMuJHN0b3JlLmdldHRlcnMudXNlcnMKICAgICAgICAgICAgY29uc3QgYm9hcmRNZW1iZXJzID0gdGhpcy5ib2FyZC5tZW1iZXJzCiAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkU2l0ZVVzZXJzID0gc2l0ZVVzZXJzLmZpbHRlcigoc2l0ZVVzZXIpID0+IHsKICAgICAgICAgICAgICAgIHJldHVybiBib2FyZE1lbWJlcnMuZXZlcnkoKGJvYXJkTWVtYmVyKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJvYXJkTWVtYmVyLl9pZCAhPT0gc2l0ZVVzZXIuX2lkCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KQogICAgICAgICAgICBjb25zb2xlLmxvZygnZmlsdGVyZWRTaXRlVXNlcnM6JywgZmlsdGVyZWRTaXRlVXNlcnMpCiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJlZFNpdGVVc2VycwogICAgICAgIH0sCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGFkZFVzZXJUb0JvYXJkKHVzZXIpIHsKICAgICAgICAgICAgdGhpcy5ib2FyZC5tZW1iZXJzLnVuc2hpZnQodXNlcikKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnc2F2ZUJvYXJkJywgYm9hcmQ6IHRoaXMuYm9hcmQgfSkKICAgICAgICB9LAogICAgICAgIHJlbW92ZVVzZXJGcm9tQm9hcmQodXNlcklkKSB7CiAgICAgICAgICAgIGNvbnN0IGlkeCA9IHRoaXMuYm9hcmQubWVtYmVycy5maW5kSW5kZXgoCiAgICAgICAgICAgICAgICAoYk1lbWJlcikgPT4gYk1lbWJlci5faWQgPT09IHVzZXJJZAogICAgICAgICAgICApCiAgICAgICAgICAgIHRoaXMuYm9hcmQubWVtYmVycy5zcGxpY2UoaWR4LCAxKQogICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdzYXZlQm9hcmQnLCBib2FyZDogdGhpcy5ib2FyZCB9KQogICAgICAgIH0sCiAgICAgICAgc2V0U2VhcmNoKHNlYXJjaEJvYXJkKSB7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCh7IHR5cGU6ICdzZXRTZWFyY2gnLCBzZWFyY2hCb2FyZCB9KQogICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdsb2FkQm9hcmRzJyB9KQogICAgICAgIH0sCgogICAgICAgIHJlbW92ZUN1cnJCb2FyZChib2FyZElkKSB7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ3JlbW92ZUJvYXJkJywgYm9hcmRJZCB9KQogICAgICAgIH0sCiAgICAgICAgYWRkQm9hcmQoKSB7CiAgICAgICAgICAgIGNvbnN0IGJvYXJkID0gYm9hcmRTZXJ2aWNlLmdldEVtcHR5Qm9hcmQoKQogICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdzYXZlQm9hcmQnLCBib2FyZCB9KQogICAgICAgIH0sCgogICAgICAgIGxvYWRCb2FyZCgpIHsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goewogICAgICAgICAgICAgICAgdHlwZTogJ2xvYWRCb2FyZCcsCiAgICAgICAgICAgICAgICBib2FyZElkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuYm9hcmRJZCwKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGFkZEdyb3VwKCkgewogICAgICAgICAgICBjb25zdCBuZXdHcm91cCA9IGJvYXJkU2VydmljZS5nZXRFbXB0eUdyb3VwKCkKICAgICAgICAgICAgdGhpcy5ib2FyZC5ncm91cHMucHVzaChuZXdHcm91cCkKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goewogICAgICAgICAgICAgICAgdHlwZTogJ3NhdmVCb2FyZCcsCiAgICAgICAgICAgICAgICBib2FyZDogdGhpcy5ib2FyZCwKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGRlbGV0ZUdyb3VwKGdyb3VwSWQpIHsKICAgICAgICAgICAgY29uc3QgaWR4ID0gdGhpcy5ib2FyZC5ncm91cHMuZmluZEluZGV4KAogICAgICAgICAgICAgICAgKGdyb3VwKSA9PiBncm91cC5pZCA9PT0gZ3JvdXBJZAogICAgICAgICAgICApCiAgICAgICAgICAgIHRoaXMuYm9hcmQuZ3JvdXBzLnNwbGljZShpZHgsIDEpCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKHsKICAgICAgICAgICAgICAgIHR5cGU6ICdzYXZlQm9hcmQnLAogICAgICAgICAgICAgICAgYm9hcmQ6IHRoaXMuYm9hcmQsCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBzZXRDdXJyVGFzayh0YXNrKSB7CiAgICAgICAgICAgIHRoaXMuY3VyclRhc2sgPSB0YXNrCiAgICAgICAgfSwKICAgIH0sCiAgICB3YXRjaDogewogICAgICAgICckcm91dGUucGFyYW1zLmJvYXJkSWQnKHZhbCkgewogICAgICAgICAgICBpZiAodmFsKSB7CiAgICAgICAgICAgICAgICB0aGlzLmxvYWRCb2FyZCgpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgZXZlbnRCdXMuJG9uKCd0YXNrRGV0YWlscycsIHRoaXMuc2V0Q3VyclRhc2spCiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnbG9hZFVzZXJzJyB9KQogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ2xvYWRCb2FyZHMnIH0pCiAgICAgICAgdGhpcy5sb2FkQm9hcmQoKQogICAgfSwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBncm91cExpc3QsCiAgICAgICAgYm9hcmRMaXN0LAogICAgICAgIGJvYXJkRmlsdGVyLAogICAgICAgIG1lbWJlcnMsCiAgICAgICAgLy8gdGFza0RldGFpbHMKICAgIH0sCn0K"},{"version":3,"sources":["board-app.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"board-app.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <section class=\"board-app flex\">\n        <board-list\n            @searchBoard=\"setSearch\"\n            @removeBoard=\"removeCurrBoard\"\n            @addNewBoard=\"addBoard\"\n            :boards=\"boards\"\n        />\n        <div class=\"board-app-container width100\">\n            <div v-if=\"board\" class=\"board-control\">\n                <h2>{{ board.name }}</h2>\n                <board-filter :creator=\"board.creator\" @addGroup=\"addGroup\" />\n                <!-- <button @click=\"addGroup\">New Group</button> -->\n                <div>\n                    <button @click=\"isAddMembers = !isAddMembers\">+</button>\n                    <members v-if=\"isAddMembers\">\n                        <h2 slot=\"title-members\">Members board</h2>\n                        <ul\n                            v-if=\"board.members\"\n                            class=\"clean-list\"\n                            slot=\"members\"\n                        >\n                            <li\n                                v-for=\"member in board.members\"\n                                :key=\"member._id\"\n                            >\n                                {{ member.fullName }} {{ member._id }}\n                                <button\n                                    @click=\"removeUserFromBoard(member._id)\"\n                                >\n                                    -\n                                </button>\n                            </li>\n                        </ul>\n                        <h2 slot=\"title-all-members\">site users</h2>\n                        <ul class=\"clean-list\" slot=\"all-members\">\n                            <li v-for=\"user in usersSite\" :key=\"user._id\">\n                                {{ user.fullName }}{{ user._id }}\n                                <button @click=\"addUserToBoard(user)\">+</button>\n                            </li>\n                        </ul>\n                    </members>\n                </div>\n            </div>\n            <group-list\n                v-if=\"board\"\n                :groups=\"board.groups\"\n                :boardName=\"board.name\"\n                @deleteGroup=\"deleteGroup\"\n            />\n            <div v-if=\"isRouterViewHover\" class=\"backdrop-layer\"></div>\n        </div>\n        <router-view\n            class=\"boardapp-nested\"\n            @mouseover.native=\"isRouterViewHover = true\"\n            @mouseleave.native=\"isRouterViewHover = false\"\n            :task=\"currTask\"\n        />\n        <!-- <task-details v-if=\"this.$route.params.taskId\" :task=\"currTask\" /> -->\n    </section>\n</template>\n\n<script>\nimport members from '@/cmps/members'\nimport groupList from '@/cmps/group-list'\nimport boardList from '@/cmps/board-list.vue'\n// import taskDetails from '../views/task-details'\nimport { boardService } from '@/services/board.service'\nimport { eventBus } from '@/services/event-bus.service'\n\nimport boardFilter from '@/cmps/board-filter.vue'\n\nexport default {\n    name: 'board-app',\n    data() {\n        return {\n            isAddMembers: false,\n            currTask: null,\n            isRouterViewHover: false,\n        }\n    },\n    computed: {\n        board() {\n            return this.$store.getters.board\n        },\n        boards() {\n            return this.$store.getters.boards\n        },\n        usersSite() {\n            const siteUsers = this.$store.getters.users\n            const boardMembers = this.board.members\n            const filteredSiteUsers = siteUsers.filter((siteUser) => {\n                return boardMembers.every((boardMember) => {\n                    return boardMember._id !== siteUser._id\n                })\n            })\n            console.log('filteredSiteUsers:', filteredSiteUsers)\n            return filteredSiteUsers\n        },\n    },\n    methods: {\n        addUserToBoard(user) {\n            this.board.members.unshift(user)\n            this.$store.dispatch({ type: 'saveBoard', board: this.board })\n        },\n        removeUserFromBoard(userId) {\n            const idx = this.board.members.findIndex(\n                (bMember) => bMember._id === userId\n            )\n            this.board.members.splice(idx, 1)\n            this.$store.dispatch({ type: 'saveBoard', board: this.board })\n        },\n        setSearch(searchBoard) {\n            this.$store.commit({ type: 'setSearch', searchBoard })\n            this.$store.dispatch({ type: 'loadBoards' })\n        },\n\n        removeCurrBoard(boardId) {\n            this.$store.dispatch({ type: 'removeBoard', boardId })\n        },\n        addBoard() {\n            const board = boardService.getEmptyBoard()\n            this.$store.dispatch({ type: 'saveBoard', board })\n        },\n\n        loadBoard() {\n            this.$store.dispatch({\n                type: 'loadBoard',\n                boardId: this.$route.params.boardId,\n            })\n        },\n        addGroup() {\n            const newGroup = boardService.getEmptyGroup()\n            this.board.groups.push(newGroup)\n            this.$store.dispatch({\n                type: 'saveBoard',\n                board: this.board,\n            })\n        },\n        deleteGroup(groupId) {\n            const idx = this.board.groups.findIndex(\n                (group) => group.id === groupId\n            )\n            this.board.groups.splice(idx, 1)\n            this.$store.dispatch({\n                type: 'saveBoard',\n                board: this.board,\n            })\n        },\n        setCurrTask(task) {\n            this.currTask = task\n        },\n    },\n    watch: {\n        '$route.params.boardId'(val) {\n            if (val) {\n                this.loadBoard()\n            }\n        },\n    },\n    created() {\n        eventBus.$on('taskDetails', this.setCurrTask)\n        this.$store.dispatch({ type: 'loadUsers' })\n        this.$store.dispatch({ type: 'loadBoards' })\n        this.loadBoard()\n    },\n    components: {\n        groupList,\n        boardList,\n        boardFilter,\n        members,\n        // taskDetails\n    },\n}\n</script>\n"]}]}