{"remainingRequest":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/views/app-login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/views/app-login.vue","mtime":1609778254082},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKPDw8PDw8PCBIRUFECiAgICBuYW1lOiAiYXBwLWxvZ2luIiwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbG9naW5DcmVkZW50aWFsczogewogICAgICAgICAgICAgICAgZW1haWw6IG51bGwsCiAgICAgICAgICAgICAgICBwYXNzd29yZDogbnVsbCwKICAgICAgICAgICAgICAgIGlzQWRtaW46IGZhbHNlLAogICAgICAgICAgICB9LAogICAgICAgICAgICBpc0VsZW1lbnREaXNhYmxlZDogZmFsc2UsCiAgICAgICAgICAgIGdvb2dsZVNpZ25JblBhcmFtczogewogICAgICAgICAgICAgICAgY2xpZW50SWQ6CiAgICAgICAgICAgICAgICAgICAgIjM2MjE3NDYyODA5Ny1hbHQ2dG9uamFraXE0MHBjbTZpOXJubzI4OTk3cmdmaC5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbSIsCiAgICAgICAgICAgIH0sCiAgICAgICAgfTsKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIGRlZmF1bHRCb2FyZElkKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5kZWZhdWx0Qm9hcmRJZDsKICAgICAgICB9LAogICAgfSwKICAgIGNyZWF0ZWQoKSB7fSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBhc3luYyBzdWJtaXRMb2dpbigpIHsKICAgICAgICAgICAgY29uc3QgdXNlckNyZWQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMubG9naW5DcmVkZW50aWFscykpOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgbGV0IHVzZXIgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCh7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogImxvZ2luIiwKICAgICAgICAgICAgICAgICAgICB1c2VyQ3JlZCwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKHVzZXIpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmlzRWxlbWVudERpc2FibGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICJsb2FkQm9hcmRzIiB9KTsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAsCiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IDMzNSwKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIllvdSd2ZSBzdWNlc3NmdWxseSBsb2dnZWQgaW4hIiwKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvYm9hcmQvJHt0aGlzLmRlZmF1bHRCb2FyZElkfWApOwogICAgICAgICAgICAgICAgICAgIH0sIDIwMDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgIGlmIChlcnIucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgICAgZHVydGlvbjogMjAwMCwKICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IDMzNSwKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIkluY29ycmVjdCBlbWFpbCBvciBwYXNzd29yZC4iLAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMubG9naW5DcmVkZW50aWFscyA9IHsKICAgICAgICAgICAgICAgIGVtYWlsOiBudWxsLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6IG51bGwsCiAgICAgICAgICAgICAgICBpc0FkbWluOiBmYWxzZSwKICAgICAgICAgICAgfTsKICAgICAgICB9LAogICAgfSwKfTsKPT09PT09PQogIG5hbWU6ICdhcHAtbG9naW4nLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2dpbkNyZWRlbnRpYWxzOiB7CiAgICAgICAgZW1haWw6IG51bGwsCiAgICAgICAgcGFzc3dvcmQ6IG51bGwsCiAgICAgICAgaXNBZG1pbjogZmFsc2UKICAgICAgfSwKICAgICAgaXNFbGVtZW50RGlzYWJsZWQ6IGZhbHNlLAogICAgICBnb29nbGVTaWduSW5QYXJhbXM6IHsKICAgICAgICBjbGllbnRJZDoKICAgICAgICAgICczNjIxNzQ2MjgwOTctYWx0NnRvbmpha2lxNDBwY202aTlybm8yODk5N3JnZmguYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20nCiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBkZWZhdWx0Qm9hcmRJZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuZGVmYXVsdEJvYXJkSWQKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBzdWJtaXRMb2dpbigpIHsKICAgICAgY29uc3QgdXNlckNyZWQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMubG9naW5DcmVkZW50aWFscykpCiAgICAgIHRyeSB7CiAgICAgICAgbGV0IHVzZXIgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCh7CiAgICAgICAgICB0eXBlOiAnbG9naW4nLAogICAgICAgICAgdXNlckNyZWQKICAgICAgICB9KQogICAgICAgIGlmICh1c2VyKSB7CiAgICAgICAgICB0aGlzLmlzRWxlbWVudERpc2FibGVkID0gdHJ1ZQogICAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnbG9hZEJvYXJkcycgfSkKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBkdXJhdGlvbjogMjAwMCwKICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIG9mZnNldDogMzM1LAogICAgICAgICAgICBtZXNzYWdlOiAiWW91J3ZlIHN1Y2Vzc2Z1bGx5IGxvZ2dlZCBpbiEiCiAgICAgICAgICB9KQoKICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL2JvYXJkLyR7dGhpcy5kZWZhdWx0Qm9hcmRJZH1gKQogICAgICAgICAgfSwgMjAwMCkKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgZHVydGlvbjogMjAwMCwKICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICBvZmZzZXQ6IDMzNSwKICAgICAgICAgIG1lc3NhZ2U6ICdJbmNvcnJlY3QgZW1haWwgb3IgcGFzc3dvcmQuJwogICAgICAgIH0pCiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgdGhpcy5pc0VsZW1lbnREaXNhYmxlZCA9IGZhbHNlCgogICAgICAgIHRoaXMubG9naW5DcmVkZW50aWFscyA9IHsKICAgICAgICAgIGVtYWlsOiBudWxsLAogICAgICAgICAgcGFzc3dvcmQ6IG51bGwsCiAgICAgICAgICBpc0FkbWluOiBmYWxzZQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfQo+Pj4+Pj4+IDY4YjAwNGMwODA0ODUxYTE4MzVmOTY0ZjgwMWI3YWRiYjdiZTFkZTQK"},{"version":3,"sources":["app-login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app-login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<<<<<<< HEAD\n    <section class=\"app-login-container\">\n        <div class=\"login-header\">\n            <router-link to=\"/\"\n                ><img\n                    class=\"logo2 flex end\"\n                    src=\"@/assets/imgs/logo2.png\"\n                    alt=\"\"\n            /></router-link>\n        </div>\n        <section class=\"app-login flex column\">\n            <div class=\"login-form flex column justify-center\">\n                <h2 class=\"login-title\">\n                    Log <span class=\"thin-fonted\">In</span>\n                </h2>\n                <form\n                    class=\"flex column justify-center align-center\"\n                    @submit.prevent=\"submitLogin\"\n                >\n                    <!-- <el-input\n            type=\"text\"\n=======\n  <section class=\"app-login-container\">\n    <div class=\"login-header\">\n      <router-link to=\"/\"\n        ><img class=\"logo2 flex end\" src=\"@/assets/imgs/logo2.png\" alt=\"\"\n      /></router-link>\n    </div>\n    <section class=\"app-login flex column\">\n      <div class=\"login-form flex column justify-center\">\n        <h2 class=\"login-title\">Log <span class=\"thin-fonted\">In</span></h2>\n        <form\n          class=\"flex column justify-center align-center\"\n          @submit.prevent=\"submitLogin\"\n        >\n          <el-input\n            type=\"email\"\n>>>>>>> 68b004c0804851a1835f964f801b7adbb7be1de4\n            v-model=\"loginCredentials.email\"\n            placeholder=\"Email\"\n            :disabled=\"isElementDisabled\"\n          /> -->\n                    <input\n                        type=\"text\"\n                        v-model=\"loginCredentials.email\"\n                        placeholder=\"Email\"\n                        :disabled=\"isElementDisabled\"\n                    />\n                    <!-- \n          <el-input\n            type=\"password\"\n            v-model=\"loginCredentials.password\"\n            placeholder=\"Password\"\n            :disabled=\"isElementDisabled\"\n          /> -->\n                    <input\n                        type=\"password\"\n                        v-model=\"loginCredentials.password\"\n                        placeholder=\"Password\"\n                        :disabled=\"isElementDisabled\"\n                    />\n                    <button class=\"login-btn\" :disabled=\"isElementDisabled\">\n                        Login\n                    </button>\n                </form>\n                <div class=\"signup-section flex align-center\">\n                    <span class=\"separator-line\"></span>\n                    <div\n                        class=\"login-subtitle flex align-center justify-center\"\n                    >\n                        Don't have a user yet?\n                        <router-link to=\"/signup\">\n                            <span class=\"btn-content\"> Signup</span>\n                        </router-link>\n                    </div>\n                    <span class=\"separator-line\"></span>\n                </div>\n            </div>\n        </section>\n    </section>\n</template>\n\n<script>\nexport default {\n<<<<<<< HEAD\n    name: \"app-login\",\n    data() {\n        return {\n            loginCredentials: {\n                email: null,\n                password: null,\n                isAdmin: false,\n            },\n            isElementDisabled: false,\n            googleSignInParams: {\n                clientId:\n                    \"362174628097-alt6tonjakiq40pcm6i9rno28997rgfh.apps.googleusercontent.com\",\n            },\n        };\n    },\n    computed: {\n        defaultBoardId() {\n            return this.$store.getters.defaultBoardId;\n        },\n    },\n    created() {},\n    methods: {\n        async submitLogin() {\n            const userCred = JSON.parse(JSON.stringify(this.loginCredentials));\n            try {\n                let user = await this.$store.dispatch({\n                    type: \"login\",\n                    userCred,\n                });\n                if (user) {\n                    this.isElementDisabled = true;\n                    await this.$store.dispatch({ type: \"loadBoards\" });\n                    this.$message({\n                        duration: 2000,\n                        showClose: true,\n                        type: \"success\",\n                        offset: 335,\n                        message: \"You've sucessfully logged in!\",\n                    });\n\n                    setTimeout(() => {\n                        this.$router.push(`/board/${this.defaultBoardId}`);\n                    }, 2000);\n                }\n            } catch (err) {\n                if (err.response.status === 401) {\n                    this.$message({\n                        durtion: 2000,\n                        showClose: true,\n                        type: \"error\",\n                        offset: 335,\n                        message: \"Incorrect email or password.\",\n                    });\n                }\n            }\n            this.loginCredentials = {\n                email: null,\n                password: null,\n                isAdmin: false,\n            };\n        },\n    },\n};\n=======\n  name: 'app-login',\n  data() {\n    return {\n      loginCredentials: {\n        email: null,\n        password: null,\n        isAdmin: false\n      },\n      isElementDisabled: false,\n      googleSignInParams: {\n        clientId:\n          '362174628097-alt6tonjakiq40pcm6i9rno28997rgfh.apps.googleusercontent.com'\n      }\n    }\n  },\n  computed: {\n    defaultBoardId() {\n      return this.$store.getters.defaultBoardId\n    }\n  },\n  created() {},\n  methods: {\n    async submitLogin() {\n      const userCred = JSON.parse(JSON.stringify(this.loginCredentials))\n      try {\n        let user = await this.$store.dispatch({\n          type: 'login',\n          userCred\n        })\n        if (user) {\n          this.isElementDisabled = true\n          await this.$store.dispatch({ type: 'loadBoards' })\n          this.$message({\n            duration: 2000,\n            showClose: true,\n            type: 'success',\n            offset: 335,\n            message: \"You've sucessfully logged in!\"\n          })\n\n          setTimeout(() => {\n            this.$router.push(`/board/${this.defaultBoardId}`)\n          }, 2000)\n        }\n      } catch (err) {\n        this.$message({\n          durtion: 2000,\n          showClose: true,\n          type: 'error',\n          offset: 335,\n          message: 'Incorrect email or password.'\n        })\n      } finally {\n        this.isElementDisabled = false\n\n        this.loginCredentials = {\n          email: null,\n          password: null,\n          isAdmin: false\n        }\n      }\n    }\n  }\n}\n>>>>>>> 68b004c0804851a1835f964f801b7adbb7be1de4\n</script>\n"]}]}