{"remainingRequest":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/cmps/dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/cmps/dashboard.vue","mtime":1609778254048},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBjaGFydCBmcm9tICcuL2NoYXJ0JwppbXBvcnQgYm94SXRlbSBmcm9tICcuL2JveC1pdGVtJwovLyBpbXBvcnQgXyBmcm9tICdsb2Rhc2gnCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZGFzaGJvYXJkLWJvYXJkJywKICBjb21wb25lbnRzOiB7IGJveEl0ZW0sIGNoYXJ0IH0sCiAgY29tcHV0ZWQ6IHsKICAgIGJvYXJkKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5ib2FyZAogICAgfSwKICAgIGFjdGl2aXRlc0xlbmd0aCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuYm9hcmRBY3Rpdml0aWVzLmxlbmd0aAogICAgfSwKICAgIGJvYXJkTWVtYmVyc0xlbmd0aCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuYm9hcmQubWVtYmVycy5sZW5ndGgKICAgIH0sCiAgICB0YXNrQnlTdGF0dXMoKSB7CiAgICAgIGNvbnN0IHRhc2tzU3RhdHVzZXMgPSBbLi4udGhpcy4kc3RvcmUuZ2V0dGVycy50YXNrc0J5U3RhdHVlc10ubWFwKAogICAgICAgIHN0YXR1cyA9PiB7CiAgICAgICAgICBjb25zdCBuZXdTdGF0dXMgPSB7CiAgICAgICAgICAgIGxhYmVsOiBzdGF0dXMudHh0IHx8ICduZWVkIHRvIHJldmlldycsCiAgICAgICAgICAgIHZhbHVlOiBzdGF0dXMudGFza3MubGVuZ3RoCiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gbmV3U3RhdHVzCiAgICAgICAgfQogICAgICApCgogICAgICByZXR1cm4gdGFza3NTdGF0dXNlcwogICAgfSwKICAgIG1lbWJlckZvclRhc2tzKCkgewogICAgICBjb25zdCB0YXNrc01hcFN0YXR1cyA9IFsuLi50aGlzLiRzdG9yZS5nZXR0ZXJzLnRhc2tzQnlTdGF0dWVzXQogICAgICBjb25zdCBtZW1iZXJzVGFzayA9IFtdCiAgICAgIHRhc2tzTWFwU3RhdHVzLmZvckVhY2goc3RhdHVzID0+IHsKICAgICAgICBzdGF0dXMudGFza3MuZm9yRWFjaCh0YXNrID0+IHsKICAgICAgICAgIHRhc2subWVtYmVycy5mb3JFYWNoKG1lbWJlciA9PiB7CiAgICAgICAgICAgIG1lbWJlcnNUYXNrLnB1c2gobWVtYmVyLmZ1bGxOYW1lKQogICAgICAgICAgfSkKICAgICAgICB9KQogICAgICB9KQogICAgICBjb25zdCBtZW1iZXJzQ291bnQgPSBtZW1iZXJzVGFzay5yZWR1Y2UoKGFjYywgbWVtYmVyKSA9PiB7CiAgICAgICAgaWYgKCFhY2NbbWVtYmVyXSkgYWNjW21lbWJlcl0gPSB7IHZhbHVlOiAwLCBsYWJlbDogbWVtYmVyIH0KICAgICAgICBhY2NbbWVtYmVyXS52YWx1ZSsrCiAgICAgICAgcmV0dXJuIGFjYwogICAgICB9LCB7fSkKCiAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKG1lbWJlcnNDb3VudCkKICAgIH0sCiAgICBzdW1UYXNrc0dyb3VwcygpIHsKICAgICAgY29uc3QgYm9hcmQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuJHN0b3JlLmdldHRlcnMuYm9hcmQpKQogICAgICBsZXQgbnVtYmVyVGFza3MgPSBbXQogICAgICBib2FyZC5ncm91cHMuZm9yRWFjaChncm91cCA9PiB7CiAgICAgICAgY29uc3QgbnVtYmVyc1Rhc2tJbkdyb3VwID0gZ3JvdXAudGFza3MubGVuZ3RoCiAgICAgICAgbnVtYmVyVGFza3MucHVzaChudW1iZXJzVGFza0luR3JvdXApCiAgICAgIH0pCiAgICAgIGNvbnN0IHJlcyA9IG51bWJlclRhc2tzLnJlZHVjZSgoYWNjLCBudW1iZXIpID0+IHsKICAgICAgICBhY2MgKz0gbnVtYmVyCiAgICAgICAgcmV0dXJuIGFjYwogICAgICB9LCAwKQogICAgICBjb25zdCBudW1iZXJzR3JvdXAgPSBib2FyZC5ncm91cHMubGVuZ3RoCiAgICAgIGNvbnN0IHJlc0dyb3VwVGFza3NMZW5ndGggPSB7CiAgICAgICAgdGFza3M6IHJlcywKICAgICAgICBncm91cHM6IG51bWJlcnNHcm91cAogICAgICB9CiAgICAgIHJldHVybiByZXNHcm91cFRhc2tzTGVuZ3RoCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbG9zZURhc2hib2FyZCgpIHsKICAgICAgY29uc29sZS5sb2coJ2Nsb3NlIGRhc2hib2FyZC4uLicpCiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlRGFzaGJvYXJkJykKICAgIH0KICB9Cn0K"},{"version":3,"sources":["dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dashboard.vue","sourceRoot":"src/cmps","sourcesContent":["<template>\n  <section v-if=\"board\" class=\"dashboard\">\n    <i @click=\"closeDashboard\" class=\"fas fa-times\"></i>\n    <h2 class=\"title-static\">{{board.name}} Statics</h2>\n    <section class=\"box-items-container flex wrap align-center justify-center\">\n      <box-item\n        title=\"Activities\"\n        classIcon=\"fa-history\"\n        :value=\"activitesLength\"\n      />\n      <box-item\n        title=\"Members\"\n        classIcon=\"fa-users\"\n        :value=\"boardMembersLength\"\n      />\n      <box-item\n        title=\"Groups\"\n        classIcon=\"fa-layer-group\"\n        :value=\"sumTasksGroups.groups\"\n      />\n      <box-item\n        title=\"Tasks\"\n        classIcon=\"fa-tasks\"\n        :value=\"sumTasksGroups.tasks\"\n      />\n    </section>\n    <div style=\"width: 100%\" class=\"charts flex align-center space-between\">\n      <chart :dataChart=\"taskByStatus\" title=\"Status Popluer in task\"></chart>\n      <chart :dataChart=\"memberForTasks\" title=\"Member tasks count\"></chart>\n    </div>\n  </section>\n</template>\n\n<script>\nimport chart from './chart'\nimport boxItem from './box-item'\n// import _ from 'lodash'\nexport default {\n  name: 'dashboard-board',\n  components: { boxItem, chart },\n  computed: {\n    board() {\n      return this.$store.getters.board\n    },\n    activitesLength() {\n      return this.$store.getters.boardActivities.length\n    },\n    boardMembersLength() {\n      return this.$store.getters.board.members.length\n    },\n    taskByStatus() {\n      const tasksStatuses = [...this.$store.getters.tasksByStatues].map(\n        status => {\n          const newStatus = {\n            label: status.txt || 'need to review',\n            value: status.tasks.length\n          }\n          return newStatus\n        }\n      )\n\n      return tasksStatuses\n    },\n    memberForTasks() {\n      const tasksMapStatus = [...this.$store.getters.tasksByStatues]\n      const membersTask = []\n      tasksMapStatus.forEach(status => {\n        status.tasks.forEach(task => {\n          task.members.forEach(member => {\n            membersTask.push(member.fullName)\n          })\n        })\n      })\n      const membersCount = membersTask.reduce((acc, member) => {\n        if (!acc[member]) acc[member] = { value: 0, label: member }\n        acc[member].value++\n        return acc\n      }, {})\n\n      return Object.values(membersCount)\n    },\n    sumTasksGroups() {\n      const board = JSON.parse(JSON.stringify(this.$store.getters.board))\n      let numberTasks = []\n      board.groups.forEach(group => {\n        const numbersTaskInGroup = group.tasks.length\n        numberTasks.push(numbersTaskInGroup)\n      })\n      const res = numberTasks.reduce((acc, number) => {\n        acc += number\n        return acc\n      }, 0)\n      const numbersGroup = board.groups.length\n      const resGroupTasksLength = {\n        tasks: res,\n        groups: numbersGroup\n      }\n      return resGroupTasksLength\n    }\n  },\n  methods: {\n    closeDashboard() {\n      console.log('close dashboard...')\n      this.$emit('closeDashboard')\n    }\n  }\n}\n</script>\n"]}]}