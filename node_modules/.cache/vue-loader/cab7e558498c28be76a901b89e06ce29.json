{"remainingRequest":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/cmps/nav-menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/cmps/nav-menu.vue","mtime":1609778254086},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkYXNoYm9hcmRNb2RhbCBmcm9tICcuL2Rhc2hib2FyZCcKaW1wb3J0IE5vdGlmaWNhdGlvbnNNb2RhbCBmcm9tICcuL25vdGlmaWNhdGlvbnMtbW9kYWwudnVlJwppbXBvcnQgcG9wdXBNZW51IGZyb20gJy4vcG9wdXAtbWVudS52dWUnCmltcG9ydCBBdmF0YXIgZnJvbSAnLi91c2VyLWF2YXRhcicKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsgcG9wdXBNZW51LCBOb3RpZmljYXRpb25zTW9kYWwsIEF2YXRhcixkYXNoYm9hcmRNb2RhbCB9LAogIG5hbWU6ICduYXYtbWVudScsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzRGFzaGJvYXJkU2hvd246ZmFsc2UsCiAgICAgIGlzVXNlck1vZGFsU2hvd246IGZhbHNlLAogICAgICBpc05vdGlmc01vZGFsU2hvd246IGZhbHNlLAogICAgICBkYXJrTW9kZTogZmFsc2UsCiAgICAgIHBvcHVwT3B0aW9uczogWwogICAgICAgIHsKICAgICAgICAgIHR4dDogJ015IFByb2ZpbGUnLAogICAgICAgICAgZnVuYzogdGhpcy5nb1RvVXNlclByb2ZpbGUsCiAgICAgICAgICBpY29uU3RyOiAndXNlci1jaXJjbGUnCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0eHQ6ICdMb2cgb3V0JywKICAgICAgICAgIGZ1bmM6IHRoaXMubG9nT3V0LAogICAgICAgICAgaWNvblN0cjogJ3NpZ24tb3V0JwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdHh0OiAnRGFyayBtb2RlJywKICAgICAgICAgIGZ1bmM6IHRoaXMuZGFya01vZGVUb2dnbGUsCiAgICAgICAgICBpY29uU3RyOiAnYWRqdXN0JwogICAgICAgIH0KICAgICAgXQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHVzZXJGdWxsTmFtZSgpIHsKICAgICAgY29uc3QgdXNlckZ1bGxOYW1lID0gdGhpcy51c2VyLmZ1bGxOYW1lCiAgICAgIGNvbnN0IHNwYWNlSWR4ID0gdXNlckZ1bGxOYW1lLmluZGV4T2YoJyAnKQogICAgICByZXR1cm4gc3BhY2VJZHggPCAwID8gdXNlckZ1bGxOYW1lIDogdXNlckZ1bGxOYW1lLnN1YnN0cigwLCBzcGFjZUlkeCkKICAgIH0sCiAgICBudW1PZk5vdGlmcygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMudXNlci5ub3RpZmljYXRpb25zLmxlbmd0aAogICAgfSwKICAgIHVzZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLnVzZXIKICAgIH0sCiAgICBkZWZhdWx0Qm9hcmRJZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuZGVmYXVsdEJvYXJkSWQKICAgIH0sCiAgICBib2FyZHMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmJvYXJkcwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdG9nZ2xlRGFzaGJvYXJkKCl7CiAgICAgIHRoaXMuaXNEYXNoYm9hcmRTaG93biA9ICF0aGlzLmlzRGFzaGJvYXJkU2hvd24KICAgIH0sCiAgICBjbG9zZVBvcFVwcygpIHsKICAgICAgIHRoaXMuaXNEYXNoYm9hcmRTaG93biA9IGZhbHNlCiAgICAgIHRoaXMuaXNVc2VyTW9kYWxTaG93biA9IGZhbHNlCiAgICAgIHRoaXMuaXNOb3RpZnNNb2RhbFNob3duID0gZmFsc2UKICAgIH0sCiAgICBkYXJrTW9kZVRvZ2dsZSgpIHsKICAgICAgdGhpcy5kYXJrTW9kZSA9ICF0aGlzLmRhcmtNb2RlCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCh7IHR5cGU6ICdkYXJrTW9kZScsIGRhcmtNb2RlOiB0aGlzLmRhcmtNb2RlIH0pCiAgICB9LAogICAgdG9nZ2xlTm90aWZzTW9kYWwoKSB7CiAgICAgIHRoaXMuaXNOb3RpZnNNb2RhbFNob3duID0gIXRoaXMuaXNOb3RpZnNNb2RhbFNob3duCiAgICB9LAoKICAgIGdvVG9Vc2VyUHJvZmlsZSgpIHsKICAgICAgaWYgKHRoaXMudXNlcikgdGhpcy4kcm91dGVyLnB1c2goYC91c2VyLyR7dGhpcy51c2VyLl9pZH1gKQogICAgICBlbHNlIHRoaXMuJHJvdXRlci5wdXNoKCcvc2lnbnVwJykKICAgICAgdGhpcy5pc1VzZXJNb2RhbFNob3duID0gZmFsc2UKICAgIH0sCiAgICBsb2dPdXQoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2xvZ291dCcpCiAgICB9LAogICAgdG9nZ2xlVXNlck1vZGFsKCkgewogICAgICB0aGlzLmlzVXNlck1vZGFsU2hvd24gPSAhdGhpcy5pc1VzZXJNb2RhbFNob3duCiAgICB9LAogICAgb25Mb2dvdXQoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKHsKICAgICAgICB0eXBlOiAnbG9nb3V0JwogICAgICB9KQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpCiAgICB9CiAgfSwKICBjcmVhdGVkKCl7CiAgICBpZih0aGlzLmJvYXJkcy5sZW5ndGg9PT0wKSB7CiAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goe3R5cGU6ICdsb2FkQm9hcmRzJ30pfQp9Cgp9Cg=="},{"version":3,"sources":["nav-menu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"nav-menu.vue","sourceRoot":"src/cmps","sourcesContent":["<template>\n  <nav class=\"nav-menu relative\">\n    <div class=\"top-nav\">\n      <div class=\"nav-logo\">\n        <router-link\n          v-if=\"boards && boards.length\"\n          class=\"nav-link flex justify-center\"\n          :to=\"'/board/' + defaultBoardId\"\n        >\n          <img src=\"img/icons/logo_icon.png\" alt=\"TaskU\" v-tooltip.right=\"'TaskU'\" />\n        </router-link>\n      </div>\n      <div class=\"nav-icon-container notifs\" v-tooltip.right=\"'Notfications'\">\n        <i class=\"nav-icon far fa-bell\" @click=\"toggleNotifsModal\"></i>\n        <span class=\"notif-amount\" v-if=\"user.notifications && numOfNotifs\">{{ numOfNotifs }}</span>\n        <notifications-modal v-if=\"isNotifsModalShown\" />\n      </div>\n      <div class=\"nav-icon-container inbox\" v-tooltip.right=\"'Dashboard'\">\n        <i @click=\"toggleDashboard\" class=\"nav-icon far fa-chart-line\"></i>\n        <dashboard-modal @closeDashboard=\"isDashboardShown=false\" v-if=\"isDashboardShown\" />\n      </div>\n    </div>\n    <div class=\"user-greeting\" v-if=\"user\">\n      <span class=\"inner-text\">Hello {{ userFullName }}</span>\n    </div>\n    <div class=\"bottom-nav\">\n      <div class=\"nav-icon-container\" v-tooltip.right=\"'Calendar'\">\n        <router-link to=\"/calendar\">\n          <i class=\"nav-icon fal fa-calendar-check\"></i>\n        </router-link>\n      </div>\n\n      <div class=\"nav-icon-container\" v-tooltip.right=\"'Logout'\">\n        <i class=\"nav-icon logout fad fa-sign-out\" @click=\"onLogout\"></i>\n      </div>\n      <div\n        class=\"user-profile\"\n        @click=\"toggleUserModal\"\n        v-if=\"user\"\n        v-tooltip.right=\"'Profile'\"\n      >\n        <avatar class=\"user-img-nav\" :user=\"user\" />\n\n        <popup-menu\n          class=\"user-menu\"\n          v-if=\"isUserModalShown\"\n          :menuItems=\"popupOptions\"\n        />\n      </div>\n    </div>\n    <div\n      class=\"back-drop-layer\"\n      v-if=\"isUserModalShown || isNotifsModalShown || isDashboardShown\"\n      @click.stop=\"closePopUps\"\n    ></div>\n  </nav>\n</template>\n\n<script>\nimport dashboardModal from './dashboard'\nimport NotificationsModal from './notifications-modal.vue'\nimport popupMenu from './popup-menu.vue'\nimport Avatar from './user-avatar'\nexport default {\n  components: { popupMenu, NotificationsModal, Avatar,dashboardModal },\n  name: 'nav-menu',\n  data() {\n    return {\n      isDashboardShown:false,\n      isUserModalShown: false,\n      isNotifsModalShown: false,\n      darkMode: false,\n      popupOptions: [\n        {\n          txt: 'My Profile',\n          func: this.goToUserProfile,\n          iconStr: 'user-circle'\n        },\n        {\n          txt: 'Log out',\n          func: this.logOut,\n          iconStr: 'sign-out'\n        },\n        {\n          txt: 'Dark mode',\n          func: this.darkModeToggle,\n          iconStr: 'adjust'\n        }\n      ]\n    }\n  },\n  computed: {\n    userFullName() {\n      const userFullName = this.user.fullName\n      const spaceIdx = userFullName.indexOf(' ')\n      return spaceIdx < 0 ? userFullName : userFullName.substr(0, spaceIdx)\n    },\n    numOfNotifs() {\n      return this.$store.getters.user.notifications.length\n    },\n    user() {\n      return this.$store.getters.user\n    },\n    defaultBoardId() {\n      return this.$store.getters.defaultBoardId\n    },\n    boards() {\n      return this.$store.getters.boards\n    }\n  },\n  methods: {\n    toggleDashboard(){\n      this.isDashboardShown = !this.isDashboardShown\n    },\n    closePopUps() {\n       this.isDashboardShown = false\n      this.isUserModalShown = false\n      this.isNotifsModalShown = false\n    },\n    darkModeToggle() {\n      this.darkMode = !this.darkMode\n      this.$store.commit({ type: 'darkMode', darkMode: this.darkMode })\n    },\n    toggleNotifsModal() {\n      this.isNotifsModalShown = !this.isNotifsModalShown\n    },\n\n    goToUserProfile() {\n      if (this.user) this.$router.push(`/user/${this.user._id}`)\n      else this.$router.push('/signup')\n      this.isUserModalShown = false\n    },\n    logOut() {\n      this.$emit('logout')\n    },\n    toggleUserModal() {\n      this.isUserModalShown = !this.isUserModalShown\n    },\n    onLogout() {\n      this.$store.dispatch({\n        type: 'logout'\n      })\n      this.$router.push('/')\n    }\n  },\n  created(){\n    if(this.boards.length===0) {\n  this.$store.dispatch({type: 'loadBoards'})}\n}\n\n}\n</script>\n"]}]}