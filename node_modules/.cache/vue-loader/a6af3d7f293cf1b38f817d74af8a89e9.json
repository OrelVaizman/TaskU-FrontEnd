{"remainingRequest":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/cmps/nav-menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/cmps/nav-menu.vue","mtime":1607325630167},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBOb3RpZmljYXRpb25zTW9kYWwgZnJvbSAnLi9ub3RpZmljYXRpb25zLW1vZGFsLnZ1ZScKaW1wb3J0IHBvcHVwTWVudSBmcm9tICcuL3BvcHVwLW1lbnUudnVlJwppbXBvcnQgQXZhdGFyIGZyb20gJy4vdXNlci1hdmF0YXInCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IHBvcHVwTWVudSwgTm90aWZpY2F0aW9uc01vZGFsLCBBdmF0YXIgfSwKICBuYW1lOiAnbmF2LW1lbnUnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc1VzZXJNb2RhbFNob3duOiBmYWxzZSwKICAgICAgaXNOb3RpZnNNb2RhbFNob3duOiBmYWxzZSwKICAgICAgZGFya01vZGU6IGZhbHNlLAogICAgICBwb3B1cE9wdGlvbnM6IFsKICAgICAgICB7CiAgICAgICAgICB0eHQ6ICdNeSBQcm9maWxlJywKICAgICAgICAgIGZ1bmM6IHRoaXMuZ29Ub1VzZXJQcm9maWxlLAogICAgICAgICAgaWNvblN0cjogJ3VzZXItY2lyY2xlJwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdHh0OiAnTG9nIG91dCcsCiAgICAgICAgICBmdW5jOiB0aGlzLmxvZ091dCwKICAgICAgICAgIGljb25TdHI6ICdzaWduLW91dCcKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHR4dDogJ0RhcmsgbW9kZScsCiAgICAgICAgICBmdW5jOiB0aGlzLmRhcmtNb2RlVG9nZ2xlLAogICAgICAgICAgaWNvblN0cjogJ2FkanVzdCcKICAgICAgICB9CiAgICAgIF0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICB1c2VyRnVsbE5hbWUoKSB7CiAgICAgIGNvbnN0IHVzZXJGdWxsTmFtZSA9IHRoaXMudXNlci5mdWxsTmFtZQogICAgICBjb25zdCBzcGFjZUlkeCA9IHVzZXJGdWxsTmFtZS5pbmRleE9mKCcgJykKICAgICAgcmV0dXJuIHNwYWNlSWR4IDwgMCA/IHVzZXJGdWxsTmFtZSA6IHVzZXJGdWxsTmFtZS5zdWJzdHIoMCwgc3BhY2VJZHgpCiAgICB9LAogICAgbnVtT2ZOb3RpZnMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLnVzZXIubm90aWZpY2F0aW9ucy5sZW5ndGgKICAgIH0sCiAgICB1c2VyKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy51c2VyCiAgICB9LAogICAgZGVmYXVsdEJvYXJkSWQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmRlZmF1bHRCb2FyZElkCiAgICB9LAogICAgYm9hcmRzKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5ib2FyZHMKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNsb3NlUG9wVXBzKCkgewogICAgICB0aGlzLmlzVXNlck1vZGFsU2hvd24gPSBmYWxzZQogICAgICB0aGlzLmlzTm90aWZzTW9kYWxTaG93biA9IGZhbHNlCiAgICB9LAogICAgZGFya01vZGVUb2dnbGUoKSB7CiAgICAgIHRoaXMuZGFya01vZGUgPSAhdGhpcy5kYXJrTW9kZQogICAgICB0aGlzLiRzdG9yZS5jb21taXQoeyB0eXBlOiAnZGFya01vZGUnLCBkYXJrTW9kZTogdGhpcy5kYXJrTW9kZSB9KQogICAgfSwKICAgIHRvZ2dsZU5vdGlmc01vZGFsKCkgewogICAgICB0aGlzLmlzTm90aWZzTW9kYWxTaG93biA9ICF0aGlzLmlzTm90aWZzTW9kYWxTaG93bgogICAgfSwKCiAgICBnb1RvVXNlclByb2ZpbGUoKSB7CiAgICAgIGlmICh0aGlzLnVzZXIpIHRoaXMuJHJvdXRlci5wdXNoKGAvdXNlci8ke3RoaXMudXNlci5faWR9YCkKICAgICAgZWxzZSB0aGlzLiRyb3V0ZXIucHVzaCgnL3NpZ251cCcpCiAgICAgIHRoaXMuaXNVc2VyTW9kYWxTaG93biA9IGZhbHNlCiAgICB9LAogICAgbG9nT3V0KCkgewogICAgICB0aGlzLiRlbWl0KCdsb2dvdXQnKQogICAgfSwKICAgIHRvZ2dsZVVzZXJNb2RhbCgpIHsKICAgICAgdGhpcy5pc1VzZXJNb2RhbFNob3duID0gIXRoaXMuaXNVc2VyTW9kYWxTaG93bgogICAgfSwKICAgIG9uTG9nb3V0KCkgewogICAgICBjb25zb2xlLmxvZygnbG9nZ2luZyBvdXQnKQogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCh7CiAgICAgICAgdHlwZTogJ2xvZ291dCcKICAgICAgfSkKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKQogICAgfQogIH0sCiAgY3JlYXRlZCgpewogICAgICBjb25zb2xlLmxvZygnaW0gY3JlYXRlZH4hIScpCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuYm9hcmRzLmxlbmd0aCkKICAgIGlmKHRoaXMuYm9hcmRzLmxlbmd0aD09PTApIHsKICAgICAgY29uc29sZS5sb2coJ2ltIGNyZWF0ZWR+MiEhJykKICB0aGlzLiRzdG9yZS5kaXNwYXRjaCh7dHlwZTogJ2xvYWRCb2FyZHMnfSl9Cn0KCn0K"},{"version":3,"sources":["nav-menu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"nav-menu.vue","sourceRoot":"src/cmps","sourcesContent":["<template>\n  <nav class=\"nav-menu relative\">\n    <div class=\"top-nav\">\n      <div class=\"nav-logo\">\n        <router-link\n          v-if=\"boards && boards.length\"\n          class=\"nav-link flex justify-center\"\n          :to=\"'/board/' + defaultBoardId\"\n        >\n          <img src=\"img/icons/logo_icon.png\" alt=\"TaskU\" />\n        </router-link>\n      </div>\n      <div class=\"nav-icon-container notifs\" v-tooltip.right=\"'Notfications'\">\n        <i class=\"nav-icon far fa-bell\" @click=\"toggleNotifsModal\"></i>\n        <span class=\"notif-amount\" v-if=\"numOfNotifs\">{{ numOfNotifs }}</span>\n        <notifications-modal v-if=\"isNotifsModalShown\" />\n      </div>\n      <div class=\"nav-icon-container inbox\" v-tooltip.right=\"'Inbox'\">\n        <i class=\"nav-icon far fa-inbox-in\"></i>\n      </div>\n    </div>\n    <div class=\"user-greeting\" v-if=\"user\">\n      <span class=\"inner-text\">Hello {{ userFullName }}</span>\n    </div>\n    <div class=\"bottom-nav\">\n<<<<<<< HEAD\n      <div class=\"nav-icon-container\" v-tooltip.right=\"'Calendar'\">\n        <router-link to=\"/calendar\">\n=======\n      <div class=\"nav-icon-container calender\" v-tooltip.right=\"'Calender'\">\n        <router-link to=\"/calender\">\n>>>>>>> 4979ef51bdfeb7eeb7dbd68c4e0e59a0b55611e3\n          <i class=\"nav-icon fal fa-calendar-check\"></i>\n        </router-link>\n      </div>\n\n      <div class=\"nav-icon-container\" v-tooltip.right=\"'Logout'\">\n        <i class=\"nav-icon logout fad fa-sign-out\" @click=\"onLogout\"></i>\n      </div>\n      <div\n        class=\"user-profile\"\n        @click=\"toggleUserModal\"\n        v-if=\"user\"\n        v-tooltip.right=\"'Profile'\"\n      >\n        <avatar class=\"user-img-nav\" :user=\"user\" />\n\n        <popup-menu\n          class=\"user-menu\"\n          v-if=\"isUserModalShown\"\n          :menuItems=\"popupOptions\"\n        />\n      </div>\n    </div>\n    <div\n      class=\"back-drop-layer\"\n      v-if=\"isUserModalShown || isNotifsModalShown\"\n      @click.stop=\"closePopUps\"\n    ></div>\n  </nav>\n</template>\n\n<script>\nimport NotificationsModal from './notifications-modal.vue'\nimport popupMenu from './popup-menu.vue'\nimport Avatar from './user-avatar'\nexport default {\n  components: { popupMenu, NotificationsModal, Avatar },\n  name: 'nav-menu',\n  data() {\n    return {\n      isUserModalShown: false,\n      isNotifsModalShown: false,\n      darkMode: false,\n      popupOptions: [\n        {\n          txt: 'My Profile',\n          func: this.goToUserProfile,\n          iconStr: 'user-circle'\n        },\n        {\n          txt: 'Log out',\n          func: this.logOut,\n          iconStr: 'sign-out'\n        },\n        {\n          txt: 'Dark mode',\n          func: this.darkModeToggle,\n          iconStr: 'adjust'\n        }\n      ]\n    }\n  },\n  computed: {\n    userFullName() {\n      const userFullName = this.user.fullName\n      const spaceIdx = userFullName.indexOf(' ')\n      return spaceIdx < 0 ? userFullName : userFullName.substr(0, spaceIdx)\n    },\n    numOfNotifs() {\n      return this.$store.getters.user.notifications.length\n    },\n    user() {\n      return this.$store.getters.user\n    },\n    defaultBoardId() {\n      return this.$store.getters.defaultBoardId\n    },\n    boards() {\n      return this.$store.getters.boards\n    }\n  },\n  methods: {\n    closePopUps() {\n      this.isUserModalShown = false\n      this.isNotifsModalShown = false\n    },\n    darkModeToggle() {\n      this.darkMode = !this.darkMode\n      this.$store.commit({ type: 'darkMode', darkMode: this.darkMode })\n    },\n    toggleNotifsModal() {\n      this.isNotifsModalShown = !this.isNotifsModalShown\n    },\n\n    goToUserProfile() {\n      if (this.user) this.$router.push(`/user/${this.user._id}`)\n      else this.$router.push('/signup')\n      this.isUserModalShown = false\n    },\n    logOut() {\n      this.$emit('logout')\n    },\n    toggleUserModal() {\n      this.isUserModalShown = !this.isUserModalShown\n    },\n    onLogout() {\n      console.log('logging out')\n      this.$store.dispatch({\n        type: 'logout'\n      })\n      this.$router.push('/')\n    }\n  },\n  created(){\n      console.log('im created~!!')\n      console.log(this.boards.length)\n    if(this.boards.length===0) {\n      console.log('im created~2!!')\n  this.$store.dispatch({type: 'loadBoards'})}\n}\n\n}\n</script>\n"]}]}