{"remainingRequest":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/cmps/nav-menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/cmps/nav-menu.vue","mtime":1607212899137},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBOb3RpZmljYXRpb25zTW9kYWwgZnJvbSAnLi9ub3RpZmljYXRpb25zLW1vZGFsLnZ1ZScKaW1wb3J0IHBvcHVwTWVudSBmcm9tICcuL3BvcHVwLW1lbnUudnVlJwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogeyBwb3B1cE1lbnUsIE5vdGlmaWNhdGlvbnNNb2RhbCB9LAogIG5hbWU6ICduYXYtbWVudScsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzVXNlck1vZGFsU2hvd246IGZhbHNlLAogICAgICBpc05vdGlmc01vZGFsU2hvd246IGZhbHNlLAogICAgICBkYXJrTW9kZTogZmFsc2UsCiAgICAgIHBvcHVwT3B0aW9uczogWwogICAgICAgIHsKICAgICAgICAgIHR4dDogJ015IFByb2ZpbGUnLAogICAgICAgICAgZnVuYzogdGhpcy5nb1RvVXNlclByb2ZpbGUsCiAgICAgICAgICBpY29uU3RyOiAndXNlci1jaXJjbGUnCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0eHQ6ICdMb2cgb3V0JywKICAgICAgICAgIGZ1bmM6IHRoaXMubG9nT3V0LAogICAgICAgICAgaWNvblN0cjogJ3NpZ24tb3V0JwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdHh0OiAnRGFyayBtb2RlJywKICAgICAgICAgIGZ1bmM6IHRoaXMuZGFya01vZGVUb2dnbGUsCiAgICAgICAgICBpY29uU3RyOiAnYWRqdXN0JwogICAgICAgIH0KICAgICAgXQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHVzZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLnVzZXIKICAgIH0sCiAgICBkZWZhdWx0Qm9hcmRJZCgpIHsKICAgICAgcmV0dXJuICB0aGlzLiRzdG9yZS5nZXR0ZXJzLmRlZmF1bHRCb2FyZElkCiAgICB9LAogICAgYm9hcmRzKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5ib2FyZHMKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGRhcmtNb2RlVG9nZ2xlKCkgewogICAgICB0aGlzLmRhcmtNb2RlID0gIXRoaXMuZGFya01vZGUKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KHsgdHlwZTogJ2RhcmtNb2RlJywgZGFya01vZGU6IHRoaXMuZGFya01vZGUgfSkKICAgIH0sCiAgICB0b2dnbGVOb3RpZnNNb2RhbCgpIHsKICAgICAgdGhpcy5pc05vdGlmc01vZGFsU2hvd24gPSAhdGhpcy5pc05vdGlmc01vZGFsU2hvd24KICAgIH0sCgogICAgZ29Ub1VzZXJQcm9maWxlKCkgewogICAgICBpZiAodGhpcy51c2VyKSB0aGlzLiRyb3V0ZXIucHVzaChgL3VzZXIvJHt0aGlzLnVzZXIuX2lkfWApCiAgICAgIGVsc2UgdGhpcy4kcm91dGVyLnB1c2goJy9zaWdudXAnKQogICAgICB0aGlzLmlzVXNlck1vZGFsU2hvd24gPSBmYWxzZQogICAgfSwKICAgIGxvZ091dCgpIHsKICAgICAgdGhpcy4kZW1pdCgnbG9nb3V0JykKICAgIH0sCiAgICB0b2dnbGVVc2VyTW9kYWwoKSB7CiAgICAgIHRoaXMuaXNVc2VyTW9kYWxTaG93biA9ICF0aGlzLmlzVXNlck1vZGFsU2hvd24KICAgIH0sCiAgICBvbkxvZ291dCgpIHsKICAgICAgY29uc29sZS5sb2coJ2xvZ2dpbmcgb3V0JykKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goewogICAgICAgIHR5cGU6ICdsb2dvdXQnCiAgICAgIH0pCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJykKICAgIH0KICB9Cn0K"},{"version":3,"sources":["nav-menu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"nav-menu.vue","sourceRoot":"src/cmps","sourcesContent":["<template>\n  <nav class=\"nav-menu flex column space-between relative\">\n    <div class=\"top-nav\">\n      <div class=\"nav-logo\">\n        <router-link v-if=\"boards&&boards.length\"\n          class=\"nav-link flex justify-center\"\n          :to=\"'/board/' + defaultBoardId\"\n        >\n          <img src=\"img/icons/logo_icon.png\" alt=\"TaskU\" />\n        </router-link>\n      </div>\n      <div class=\"nav-icon-container notifs\" v-tooltip.right=\"'Notfications'\">\n        <i class=\"nav-icon far fa-bell\" @click=\"toggleNotifsModal\"></i>\n        <notifications-modal v-if=\"isNotifsModalShown\" />\n      </div>\n      <div class=\"nav-icon-container\" v-tooltip.right=\"'Inbox'\">\n        <i class=\"nav-icon far fa-inbox-in\"></i>\n      </div>\n    </div>\n\n    <div class=\"user-greeting\" v-if=\"user\"><span class=\"inner-text\">Hello {{ user.fullName }}</span></div>\n    <div class=\"bottom-nav\">\n      <div class=\"nav-icon-container\" v-tooltip.right=\"'Calender'\">\n        <router-link to=\"/calender\">\n          <i class=\"nav-icon fal fa-calendar-check\"></i>\n        </router-link>\n      </div>\n\n      <div class=\"nav-icon-container\" v-tooltip.right=\"'Logout'\">\n        <i class=\"nav-icon logout fad fa-sign-out\" @click=\"onLogout\"></i>\n      </div>\n      <div\n        class=\"user-profile\"\n        @click=\"toggleUserModal\"\n        v-if=\"user\"\n        v-tooltip.right=\"'Profile'\"\n      >\n        <img\n          class=\"user-img\"\n          src=\"https://cdn1.monday.com/dapulse_default_photo.png\"\n          alt=\"\"\n        />\n        <popup-menu\n          class=\"user-menu\"\n          v-if=\"isUserModalShown\"\n          :menuItems=\"popupOptions\"\n        />\n      </div>\n    </div>\n    <div\n      class=\"back-drop-layer\"\n      v-if=\"isUserModalShown\"\n      @click.stop=\"isUserModalShown = false\"\n    ></div>\n  </nav>\n</template>\n\n<script>\nimport NotificationsModal from './notifications-modal.vue'\nimport popupMenu from './popup-menu.vue'\nexport default {\n  components: { popupMenu, NotificationsModal },\n  name: 'nav-menu',\n  data() {\n    return {\n      isUserModalShown: false,\n      isNotifsModalShown: false,\n      darkMode: false,\n      popupOptions: [\n        {\n          txt: 'My Profile',\n          func: this.goToUserProfile,\n          iconStr: 'user-circle'\n        },\n        {\n          txt: 'Log out',\n          func: this.logOut,\n          iconStr: 'sign-out'\n        },\n        {\n          txt: 'Dark mode',\n          func: this.darkModeToggle,\n          iconStr: 'adjust'\n        }\n      ]\n    }\n  },\n  computed: {\n    user() {\n      return this.$store.getters.user\n    },\n    defaultBoardId() {\n      return  this.$store.getters.defaultBoardId\n    },\n    boards() {\n      return this.$store.getters.boards\n    }\n  },\n  methods: {\n    darkModeToggle() {\n      this.darkMode = !this.darkMode\n      this.$store.commit({ type: 'darkMode', darkMode: this.darkMode })\n    },\n    toggleNotifsModal() {\n      this.isNotifsModalShown = !this.isNotifsModalShown\n    },\n\n    goToUserProfile() {\n      if (this.user) this.$router.push(`/user/${this.user._id}`)\n      else this.$router.push('/signup')\n      this.isUserModalShown = false\n    },\n    logOut() {\n      this.$emit('logout')\n    },\n    toggleUserModal() {\n      this.isUserModalShown = !this.isUserModalShown\n    },\n    onLogout() {\n      console.log('logging out')\n      this.$store.dispatch({\n        type: 'logout'\n      })\n      this.$router.push('/')\n    }\n  }\n}\n</script>\n"]}]}