{"remainingRequest":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/views/app-login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/views/app-login.vue","mtime":1609778735338},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnYXBwLWxvZ2luJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9naW5DcmVkZW50aWFsczogewogICAgICAgIGVtYWlsOiBudWxsLAogICAgICAgIHBhc3N3b3JkOiBudWxsLAogICAgICAgIGlzQWRtaW46IGZhbHNlCiAgICAgIH0sCiAgICAgIGlzRWxlbWVudERpc2FibGVkOiBmYWxzZSwKICAgICAgZ29vZ2xlU2lnbkluUGFyYW1zOiB7CiAgICAgICAgY2xpZW50SWQ6CiAgICAgICAgICAnMzYyMTc0NjI4MDk3LWFsdDZ0b25qYWtpcTQwcGNtNmk5cm5vMjg5OTdyZ2ZoLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tJwogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgZGVmYXVsdEJvYXJkSWQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmRlZmF1bHRCb2FyZElkCiAgICB9CiAgfSwKICBjcmVhdGVkKCkge30sCiAgbWV0aG9kczogewogICAgYXN5bmMgc3VibWl0TG9naW4oKSB7CiAgICAgIGNvbnN0IHVzZXJDcmVkID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmxvZ2luQ3JlZGVudGlhbHMpKQogICAgICB0cnkgewogICAgICAgIGxldCB1c2VyID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goewogICAgICAgICAgdHlwZTogJ2xvZ2luJywKICAgICAgICAgIHVzZXJDcmVkCiAgICAgICAgfSkKICAgICAgICBpZiAodXNlcikgewogICAgICAgICAgdGhpcy5pc0VsZW1lbnREaXNhYmxlZCA9IHRydWUKICAgICAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ2xvYWRCb2FyZHMnIH0pCiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgZHVyYXRpb246IDIwMDAsCiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICBvZmZzZXQ6IDMzNSwKICAgICAgICAgICAgbWVzc2FnZTogIllvdSd2ZSBzdWNlc3NmdWxseSBsb2dnZWQgaW4hIgogICAgICAgICAgfSkKCiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goYC9ib2FyZC8ke3RoaXMuZGVmYXVsdEJvYXJkSWR9YCkKICAgICAgICAgIH0sIDIwMDApCiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIGR1cnRpb246IDIwMDAsCiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgb2Zmc2V0OiAzMzUsCiAgICAgICAgICBtZXNzYWdlOiAnSW5jb3JyZWN0IGVtYWlsIG9yIHBhc3N3b3JkLicKICAgICAgICB9KQogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRoaXMuaXNFbGVtZW50RGlzYWJsZWQgPSBmYWxzZQoKICAgICAgICB0aGlzLmxvZ2luQ3JlZGVudGlhbHMgPSB7CiAgICAgICAgICBlbWFpbDogbnVsbCwKICAgICAgICAgIHBhc3N3b3JkOiBudWxsLAogICAgICAgICAgaXNBZG1pbjogZmFsc2UKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["app-login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app-login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <section class=\"app-login-container\">\n    <div class=\"login-header\">\n      <router-link to=\"/\"\n        ><img class=\"logo2 flex end\" src=\"@/assets/imgs/logo2.png\" alt=\"\"\n      /></router-link>\n    </div>\n    <section class=\"app-login flex column\">\n      <div class=\"login-form flex column justify-center\">\n        <h2 class=\"login-title\">Log <span class=\"thin-fonted\">In</span></h2>\n        <form\n          class=\"flex column justify-center align-center\"\n          @submit.prevent=\"submitLogin\"\n        >\n          <el-input\n            type=\"email\"\n            v-model=\"loginCredentials.email\"\n            placeholder=\"Email\"\n            :disabled=\"isElementDisabled\"\n          /> -->\n                    <input\n                        type=\"text\"\n                        v-model=\"loginCredentials.email\"\n                        placeholder=\"Email\"\n                        :disabled=\"isElementDisabled\"\n                    />\n                    <!-- \n          <el-input\n            type=\"password\"\n            v-model=\"loginCredentials.password\"\n            placeholder=\"Password\"\n            :disabled=\"isElementDisabled\"\n          /> -->\n                    <input\n                        type=\"password\"\n                        v-model=\"loginCredentials.password\"\n                        placeholder=\"Password\"\n                        :disabled=\"isElementDisabled\"\n                    />\n                    <button class=\"login-btn\" :disabled=\"isElementDisabled\">\n                        Login\n                    </button>\n                </form>\n                <div class=\"signup-section flex align-center\">\n                    <span class=\"separator-line\"></span>\n                    <div\n                        class=\"login-subtitle flex align-center justify-center\"\n                    >\n                        Don't have a user yet?\n                        <router-link to=\"/signup\">\n                            <span class=\"btn-content\"> Signup</span>\n                        </router-link>\n                    </div>\n                    <span class=\"separator-line\"></span>\n                </div>\n            </div>\n        </section>\n    </section>\n</template>\n\n<script>\nexport default {\n  name: 'app-login',\n  data() {\n    return {\n      loginCredentials: {\n        email: null,\n        password: null,\n        isAdmin: false\n      },\n      isElementDisabled: false,\n      googleSignInParams: {\n        clientId:\n          '362174628097-alt6tonjakiq40pcm6i9rno28997rgfh.apps.googleusercontent.com'\n      }\n    }\n  },\n  computed: {\n    defaultBoardId() {\n      return this.$store.getters.defaultBoardId\n    }\n  },\n  created() {},\n  methods: {\n    async submitLogin() {\n      const userCred = JSON.parse(JSON.stringify(this.loginCredentials))\n      try {\n        let user = await this.$store.dispatch({\n          type: 'login',\n          userCred\n        })\n        if (user) {\n          this.isElementDisabled = true\n          await this.$store.dispatch({ type: 'loadBoards' })\n          this.$message({\n            duration: 2000,\n            showClose: true,\n            type: 'success',\n            offset: 335,\n            message: \"You've sucessfully logged in!\"\n          })\n\n          setTimeout(() => {\n            this.$router.push(`/board/${this.defaultBoardId}`)\n          }, 2000)\n        }\n      } catch (err) {\n        this.$message({\n          durtion: 2000,\n          showClose: true,\n          type: 'error',\n          offset: 335,\n          message: 'Incorrect email or password.'\n        })\n      } finally {\n        this.isElementDisabled = false\n\n        this.loginCredentials = {\n          email: null,\n          password: null,\n          isAdmin: false\n        }\n      }\n    }\n  }\n}\n</script>\n"]}]}