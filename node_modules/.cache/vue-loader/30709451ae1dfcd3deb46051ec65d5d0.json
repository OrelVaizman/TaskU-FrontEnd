{"remainingRequest":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/views/board-app.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/views/board-app.vue","mtime":1606602159741},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhZGRNZW1iZXJzIGZyb20gJ0AvY21wcy9hZGQtbWVtYmVycycKaW1wb3J0IGdyb3VwTGlzdCBmcm9tICdAL2NtcHMvZ3JvdXAtbGlzdCcKaW1wb3J0IGJvYXJkTGlzdCBmcm9tICdAL2NtcHMvYm9hcmQtbGlzdC52dWUnCmltcG9ydCB0YXNrRGV0YWlscyBmcm9tICcuLi92aWV3cy90YXNrLWRldGFpbHMnCmltcG9ydCB7IGJvYXJkU2VydmljZSB9IGZyb20gJ0Avc2VydmljZXMvYm9hcmQuc2VydmljZScKaW1wb3J0IHsgZXZlbnRCdXMgfSBmcm9tICdAL3NlcnZpY2VzL2V2ZW50LWJ1cy5zZXJ2aWNlJwppbXBvcnQgYm9hcmRGaWx0ZXIgZnJvbSAnQC9jbXBzL2JvYXJkLWZpbHRlci52dWUnCmltcG9ydCBib2FyZFNlYXJjaCBmcm9tICdAL2NtcHMvYm9hcmQtc2VhcmNoJwoKCgoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdib2FyZC1hcHAnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc01lbWJlcnNTaG93ZW46IGZhbHNlLAogICAgICBjdXJyVGFza0RldGFpbHM6IG51bGwsCiAgICAgIGlzVGFza0RldGFpbHNIb3ZlcjogZmFsc2UsCiAgICAgIGNvbXBvbmVudEtleTogMAogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGJvYXJkKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5ib2FyZAogICAgfSwKICAgIGJvYXJkcygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuYm9hcmRzCiAgICB9LAogICAgdXNlcnNTaXRlKCkgewogICAgICBjb25zdCBzaXRlVXNlcnMgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLnVzZXJzCiAgICAgIGNvbnN0IGJvYXJkTWVtYmVycyA9IHRoaXMuYm9hcmQubWVtYmVycwogICAgICBjb25zdCBmaWx0ZXJlZFNpdGVVc2VycyA9IHNpdGVVc2Vycy5maWx0ZXIoc2l0ZVVzZXIgPT4gewogICAgICAgIHJldHVybiBib2FyZE1lbWJlcnMuZXZlcnkoYm9hcmRNZW1iZXIgPT4gewogICAgICAgICAgcmV0dXJuIGJvYXJkTWVtYmVyLl9pZCAhPT0gc2l0ZVVzZXIuX2lkCiAgICAgICAgfSkKICAgICAgfSkKICAgICAgcmV0dXJuIGZpbHRlcmVkU2l0ZVVzZXJzCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBmb3JjZVJlcmVuZGVyKCkgewogICAgICB0aGlzLmNvbXBvbmVudEtleSArPSAxCiAgICB9LAogICAgdG9nZ2xlTWVtYmVycygpIHsKICAgICAgdGhpcy5pc01lbWJlcnNTaG93ZW4gPSAhdGhpcy5pc01lbWJlcnNTaG93ZW4KICAgIH0sCiAgICBhZGRVc2VyVG9Cb2FyZCh1c2VyKSB7CiAgICAgIGNvbnNvbGUubG9nKCd1c2VyOicsIHVzZXIpCiAgICAgIHRoaXMuYm9hcmQubWVtYmVycy51bnNoaWZ0KHVzZXIpCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ3NhdmVCb2FyZCcsIGJvYXJkOiB0aGlzLmJvYXJkIH0pCiAgICB9LAogICAgcmVtb3ZlVXNlckZyb21Cb2FyZCh1c2VySWQpIHsKICAgICAgY29uc3QgaWR4ID0gdGhpcy5ib2FyZC5tZW1iZXJzLmZpbmRJbmRleCgKICAgICAgICBiTWVtYmVyID0+IGJNZW1iZXIuX2lkID09PSB1c2VySWQKICAgICAgKQogICAgICB0aGlzLmJvYXJkLm1lbWJlcnMuc3BsaWNlKGlkeCwgMSkKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnc2F2ZUJvYXJkJywgYm9hcmQ6IHRoaXMuYm9hcmQgfSkKICAgIH0sCiAgICBzZXRTZWFyY2goc2VhcmNoQm9hcmQpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KHsgdHlwZTogJ3NldFNlYXJjaCcsIHNlYXJjaEJvYXJkIH0pCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ2xvYWRCb2FyZHMnIH0pCiAgICB9LAoKICAgIHJlbW92ZUN1cnJCb2FyZChib2FyZElkKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ3JlbW92ZUJvYXJkJywgYm9hcmRJZCB9KQogICAgfSwKICAgIGFkZEJvYXJkKCkgewogICAgICBjb25zdCBib2FyZCA9IGJvYXJkU2VydmljZS5nZXRFbXB0eUJvYXJkKCkKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnc2F2ZUJvYXJkJywgYm9hcmQgfSkKICAgIH0sCgogICAgbG9hZEJvYXJkKCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCh7CiAgICAgICAgdHlwZTogJ2xvYWRCb2FyZCcsCiAgICAgICAgYm9hcmRJZDogdGhpcy4kcm91dGUucGFyYW1zLmJvYXJkSWQKICAgICAgfSkKICAgIH0sCiAgICBhZGRHcm91cCgpIHsKICAgICAgY29uc3QgbmV3R3JvdXAgPSBib2FyZFNlcnZpY2UuZ2V0RW1wdHlHcm91cCgpCiAgICAgIHRoaXMuYm9hcmQuZ3JvdXBzLnB1c2gobmV3R3JvdXApCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKHsKICAgICAgICB0eXBlOiAnc2F2ZUJvYXJkJywKICAgICAgICBib2FyZDogdGhpcy5ib2FyZAogICAgICB9KQogICAgfSwKICAgIGRlbGV0ZUdyb3VwKGdyb3VwSWQpIHsKICAgICAgY29uc3QgaWR4ID0gdGhpcy5ib2FyZC5ncm91cHMuZmluZEluZGV4KGdyb3VwID0+IGdyb3VwLmlkID09PSBncm91cElkKQogICAgICB0aGlzLmJvYXJkLmdyb3Vwcy5zcGxpY2UoaWR4LCAxKQogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCh7CiAgICAgICAgdHlwZTogJ3NhdmVCb2FyZCcsCiAgICAgICAgYm9hcmQ6IHRoaXMuYm9hcmQKICAgICAgfSkKICAgIH0sCiAgICB1cGRhdGVHcm91cCh1cGRhdGVkR3JvdXApIHsKICAgICAgY29uc29sZS5sb2codXBkYXRlZEdyb3VwLm5hbWUpCiAgICAgIGNvbnN0IGlkeCA9IHRoaXMuYm9hcmQuZ3JvdXBzLmZpbmRJbmRleCgKICAgICAgICBncm91cCA9PiBncm91cC5pZCA9PT0gdXBkYXRlZEdyb3VwLmlkCiAgICAgICkKICAgICAgdGhpcy5ib2FyZC5ncm91cHMuc3BsaWNlKGlkeCwgMSwgdXBkYXRlZEdyb3VwKQogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCh7CiAgICAgICAgdHlwZTogJ3NhdmVCb2FyZCcsCiAgICAgICAgYm9hcmQ6IHRoaXMuYm9hcmQKICAgICAgfSkKICAgIH0sCiAgICB1cGRhdGVHcm91cHMoZ3JvdXBzKSB7CiAgICAgIHRoaXMuYm9hcmQuZ3JvdXBzID0gZ3JvdXBzCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKHsKICAgICAgICB0eXBlOiAnc2F2ZUJvYXJkJywKICAgICAgICBib2FyZDogdGhpcy5ib2FyZAogICAgICB9KQogICAgICB0aGlzLmZvcmNlUmVyZW5kZXIoKQogICAgfSwKICAgIHNldEN1cnJUYXNrRGV0YWlscyhjdXJyVGFza0RldGFpbHMpIHsKICAgICAgY29uc29sZS5sb2coY3VyclRhc2tEZXRhaWxzLCAnU2V0dGluZyBjdXJyVGFza0RldGFpbHMnKQogICAgICB0aGlzLmN1cnJUYXNrRGV0YWlscyA9IGN1cnJUYXNrRGV0YWlscwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICckcm91dGUucGFyYW1zLmJvYXJkSWQnKHZhbCkgewogICAgICBpZiAodmFsKSB7CiAgICAgICAgdGhpcy5sb2FkQm9hcmQoKQogICAgICAgIHRoaXMuZm9yY2VSZXJlbmRlcigpCiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICBldmVudEJ1cy4kb24oJ3Rhc2tEZXRhaWxzJywgdGhpcy5zZXRDdXJyVGFza0RldGFpbHMpCiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdsb2FkVXNlcnMnIH0pCiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdsb2FkVXNlcicsIHVzZXJJZDogJzMwMScgfSkKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ2xvYWRCb2FyZHMnIH0pCiAgICB0aGlzLmxvYWRCb2FyZCgpCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBncm91cExpc3QsCiAgICBib2FyZExpc3QsCiAgICBib2FyZEZpbHRlciwKICAgIGFkZE1lbWJlcnMsCiAgICB0YXNrRGV0YWlscywKICAgIGJvYXJkU2VhcmNoLAogIH0KfQo="},{"version":3,"sources":["board-app.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"board-app.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <section class=\"board-app flex\">\n    <board-list\n      @removeBoard=\"removeCurrBoard\"\n      @addNewBoard=\"addBoard\"\n      :boards=\"boards\"\n      title=\"Board\"\n    >\n      <board-search @searchBoard=\"setSearch\" slot=\"search\" />\n    </board-list>\n    <div class=\"board-app-container width100\">\n      <div v-if=\"board\" class=\"board-up\">\n        <div class=\"board-up-header flex space-between\">\n          <h2>{{ board.name }}</h2>\n          <i @click=\"toggleMembers\" class=\"far fa-user-circle fa-icon\"></i>\n          <add-members\n            class=\"right\"\n            v-if=\"isMembersShowen\"\n            firstTitle=\"Board Member\"\n            secondTitle=\"Users Site\"\n            :members=\"board.members\"\n            :allMembers=\"usersSite\"\n            @removeMember=\"removeUserFromBoard\"\n            @addMember=\"addUserToBoard\"\n          />\n        </div>\n        <div class=\"board-control\">\n          <board-filter\n            v-if=\"board\"\n            :creator=\"board.creator\"\n            :statuses=\"board.statuses\"\n            :priorities=\"board.priorities\"\n            @addGroup=\"addGroup\"\n            @forceRerender=\"forceRerender\"\n          />\n        </div>\n        <!-- <button @click=\"addGroup\">New Group</button> -->\n      </div>\n      <group-list\n        v-if=\"board\"\n        :key=\"componentKey\"\n        :groups=\"board.groups\"\n        :boardName=\"board.name\"\n        @deleteGroup=\"deleteGroup\"\n        @updateGroup=\"updateGroup\"\n        @forceRender=\"forceRerender\"\n        @updateGroups=\"updateGroups\"\n      />\n      <div v-if=\"isTaskDetailsHover\" class=\"backdrop-layer\"></div>\n    </div>\n      <task-details\n        v-if=\"currTaskDetails && this.$route.params.taskId\"\n        @close=\"isTaskDetailsHover = false\"\n        @mouseover.native=\"isTaskDetailsHover = true\"\n        @mouseleave.native=\"isTaskDetailsHover = false\"\n        :task=\"currTaskDetails.task\"\n        :groupId=\"currTaskDetails.groupId\"\n      />\n  </section>\n</template>\n\n<script>\nimport addMembers from '@/cmps/add-members'\nimport groupList from '@/cmps/group-list'\nimport boardList from '@/cmps/board-list.vue'\nimport taskDetails from '../views/task-details'\nimport { boardService } from '@/services/board.service'\nimport { eventBus } from '@/services/event-bus.service'\nimport boardFilter from '@/cmps/board-filter.vue'\nimport boardSearch from '@/cmps/board-search'\n\n\n\n\nexport default {\n  name: 'board-app',\n  data() {\n    return {\n      isMembersShowen: false,\n      currTaskDetails: null,\n      isTaskDetailsHover: false,\n      componentKey: 0\n    }\n  },\n  computed: {\n    board() {\n      return this.$store.getters.board\n    },\n    boards() {\n      return this.$store.getters.boards\n    },\n    usersSite() {\n      const siteUsers = this.$store.getters.users\n      const boardMembers = this.board.members\n      const filteredSiteUsers = siteUsers.filter(siteUser => {\n        return boardMembers.every(boardMember => {\n          return boardMember._id !== siteUser._id\n        })\n      })\n      return filteredSiteUsers\n    }\n  },\n  methods: {\n    forceRerender() {\n      this.componentKey += 1\n    },\n    toggleMembers() {\n      this.isMembersShowen = !this.isMembersShowen\n    },\n    addUserToBoard(user) {\n      console.log('user:', user)\n      this.board.members.unshift(user)\n      this.$store.dispatch({ type: 'saveBoard', board: this.board })\n    },\n    removeUserFromBoard(userId) {\n      const idx = this.board.members.findIndex(\n        bMember => bMember._id === userId\n      )\n      this.board.members.splice(idx, 1)\n      this.$store.dispatch({ type: 'saveBoard', board: this.board })\n    },\n    setSearch(searchBoard) {\n      this.$store.commit({ type: 'setSearch', searchBoard })\n      this.$store.dispatch({ type: 'loadBoards' })\n    },\n\n    removeCurrBoard(boardId) {\n      this.$store.dispatch({ type: 'removeBoard', boardId })\n    },\n    addBoard() {\n      const board = boardService.getEmptyBoard()\n      this.$store.dispatch({ type: 'saveBoard', board })\n    },\n\n    loadBoard() {\n      this.$store.dispatch({\n        type: 'loadBoard',\n        boardId: this.$route.params.boardId\n      })\n    },\n    addGroup() {\n      const newGroup = boardService.getEmptyGroup()\n      this.board.groups.push(newGroup)\n      this.$store.dispatch({\n        type: 'saveBoard',\n        board: this.board\n      })\n    },\n    deleteGroup(groupId) {\n      const idx = this.board.groups.findIndex(group => group.id === groupId)\n      this.board.groups.splice(idx, 1)\n      this.$store.dispatch({\n        type: 'saveBoard',\n        board: this.board\n      })\n    },\n    updateGroup(updatedGroup) {\n      console.log(updatedGroup.name)\n      const idx = this.board.groups.findIndex(\n        group => group.id === updatedGroup.id\n      )\n      this.board.groups.splice(idx, 1, updatedGroup)\n      this.$store.dispatch({\n        type: 'saveBoard',\n        board: this.board\n      })\n    },\n    updateGroups(groups) {\n      this.board.groups = groups\n      this.$store.dispatch({\n        type: 'saveBoard',\n        board: this.board\n      })\n      this.forceRerender()\n    },\n    setCurrTaskDetails(currTaskDetails) {\n      console.log(currTaskDetails, 'Setting currTaskDetails')\n      this.currTaskDetails = currTaskDetails\n    }\n  },\n  watch: {\n    '$route.params.boardId'(val) {\n      if (val) {\n        this.loadBoard()\n        this.forceRerender()\n      }\n    }\n  },\n  created() {\n    eventBus.$on('taskDetails', this.setCurrTaskDetails)\n    this.$store.dispatch({ type: 'loadUsers' })\n    this.$store.dispatch({ type: 'loadUser', userId: '301' })\n    this.$store.dispatch({ type: 'loadBoards' })\n    this.loadBoard()\n  },\n  components: {\n    groupList,\n    boardList,\n    boardFilter,\n    addMembers,\n    taskDetails,\n    boardSearch,\n  }\n}\n</script>\n"]}]}