{"remainingRequest":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/cmps/task-preview.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/src/cmps/task-preview.vue","mtime":1606840767953},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/orelvaizman/Desktop/dev/FinalSprint/tasku-frontend/TaskU-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhZGRNZW1iZXJzIGZyb20gJ0AvY21wcy9hZGQtbWVtYmVycycKaW1wb3J0IHsgZXZlbnRCdXMgfSBmcm9tICdAL3NlcnZpY2VzL2V2ZW50LWJ1cy5zZXJ2aWNlJwppbXBvcnQgbGFiZWxQaWNrZXIgZnJvbSAnLi9sYWJlbC1waWNrZXInCmltcG9ydCB7IGJvYXJkU2VydmljZSB9IGZyb20gJ0Avc2VydmljZXMvYm9hcmQuc2VydmljZScKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnCgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogeyBsYWJlbFBpY2tlciwgYWRkTWVtYmVycyB9LAogIG5hbWU6ICd0YXNrLXByZXZpZXcnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YXNrQ29weTogbnVsbCwKICAgICAgaXNTdGF0dXNlc1Nob3dlbjogZmFsc2UsCiAgICAgIGlzUHJpb3JzU2hvd2VuOiBmYWxzZSwKICAgICAgaXNUYXNrTWVtYmVyc1Nob3dlbjogZmFsc2UsCiAgICB9CiAgfSwKICBwcm9wczogewogICAgdGFza0NvbG9yOiBTdHJpbmcsCiAgICB0YXNrOiBPYmplY3QsCiAgICBzdGF0dXNlczogQXJyYXksCiAgICBwcmlvcml0aWVzOiBBcnJheSwKICAgIGdyb3VwSWQ6IFN0cmluZywKICAgIGJvYXJkTWVtYmVyczogW0FycmF5LCBPYmplY3RdLAogICAgYWN0aXZpdHk6IE9iamVjdCwKICAgIHVzZXI6IE9iamVjdCwKICB9LAogIGNvbXB1dGVkOiB7CiAgICBwb3N0c0xlZ250aCgpIHsKICAgICAgcmV0dXJuIHRoaXMudGFzay5wb3N0cy5sZW5ndGggPiAwID8gZmFsc2UgOiB0cnVlCiAgICB9LAogICAgcG9zdG9zQ29sb3JCdG4oKXsKICAgIHJldHVybiB0aGlzLnRhc2sucG9zdHMubGVuZ3RoID4gMCA/ICdjb2xvcjogIzAwODVmZjsnOiAnJwogICAgfSwKICAgIG1lbWJlcnNMZWdudGgoKSB7CiAgICAgIHJldHVybiB0aGlzLnRhc2subWVtYmVycy5sZW5ndGggPiAwID8gZmFsc2UgOiB0cnVlCiAgICB9LAogICAgdGFza0JnYygpIHsKICAgICAgcmV0dXJuIHsgYmFja2dyb3VuZENvbG9yOiB0aGlzLnRhc2tDb2xvciB9CiAgICB9LAogICAgZmlsdGVyZWRCb2FyZE1lbWJlcnMoKSB7CiAgICAgIGNvbnN0IGJvYXJkTWVtYmVycyA9IHRoaXMuYm9hcmRNZW1iZXJzCiAgICAgIGNvbnN0IHRhc2tNZW1iZXJzID0gdGhpcy50YXNrQ29weS5tZW1iZXJzCiAgICAgIGlmICh0YXNrTWVtYmVycykgewogICAgICAgIGNvbnN0IGZpbHRlcmVkQm9hcmRNZW1iZXJzID0gYm9hcmRNZW1iZXJzLmZpbHRlcigoYk1lbWJlcikgPT4gewogICAgICAgICAgcmV0dXJuIHRhc2tNZW1iZXJzLmV2ZXJ5KCh0TWVtYmVyKSA9PiB7CiAgICAgICAgICAgIHJldHVybiB0TWVtYmVyLl9pZCAhPT0gYk1lbWJlci5faWQKICAgICAgICAgIH0pCiAgICAgICAgfSkKICAgICAgICByZXR1cm4gZmlsdGVyZWRCb2FyZE1lbWJlcnMKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gYm9hcmRNZW1iZXJzCiAgICAgIH0KICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICB1cGRhdGVUYXNrRGF0ZSgpIHsKICAgICAgY29uc3QgZGF0ZSA9IG1vbWVudCh0aGlzLnRhc2tDb3B5LmR1ZURhdGUpLmZvcm1hdCgnbGwnKQogICAgICBjb25zdCB0eHQgPSBgVGFzayBkdWUgZGF0ZSB3YXMgY2hhbmdlZCB0byAke2RhdGV9YAogICAgICBsZXQgbmV3QWN0aXZpdHkgPSBib2FyZFNlcnZpY2UuZ2V0RW1wdHlBY3Rpdml0eSh0eHQsIHRoaXMudXNlcikKICAgICAgdGhpcy50YXNrQ29weS5hY3Rpdml0aWVzLnB1c2gobmV3QWN0aXZpdHkpCiAgICAgIGV2ZW50QnVzLiRlbWl0KCd1cGRhdGVCb2FyZEFjdGl2aXR5JywgbmV3QWN0aXZpdHkpCiAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICBtZXNzYWdlOiAnVXBkYXRlIHRhc2sgZGF0ZScsCiAgICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbS1sZWZ0JywKICAgICAgICAgIGR1cmF0aW9uOjIwMDAsCiAgICAgICAgfSk7CgogICAgICB0aGlzLnVwZGF0ZVRhc2soKQogICAgfSwKICAgIHRvZ2dsZU1lbWJlcigpIHsKICAgICAgdGhpcy5pc1Rhc2tNZW1iZXJzU2hvd2VuID0gIXRoaXMuaXNUYXNrTWVtYmVyc1Nob3dlbgogICAgfSwKICAgIGFkZFRhc2tNZW1iZXIobWVtYmVyKSB7CiAgICAgIGNvbnN0IHR4dCA9IGBNZW1iZXIgJHttZW1iZXIuZnVsbE5hbWV9IHdhcyBhZGRlZCB0byB0YXNrYAogICAgICBsZXQgbmV3QWN0aXZpdHkgPSBib2FyZFNlcnZpY2UuZ2V0RW1wdHlBY3Rpdml0eSh0eHQsIHRoaXMudXNlcikKICAgICAgdGhpcy50YXNrQ29weS5tZW1iZXJzLnVuc2hpZnQobWVtYmVyKQogICAgICB0aGlzLnRhc2tDb3B5LmFjdGl2aXRpZXMucHVzaChuZXdBY3Rpdml0eSkKICAgICAgIGV2ZW50QnVzLiRlbWl0KCd1cGRhdGVCb2FyZEFjdGl2aXR5JywgbmV3QWN0aXZpdHkpCiAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICBtZXNzYWdlOiAnVXBkYXRlIHRhc2sgbWVtYmVyJywKICAgICAgICAgIHBvc2l0aW9uOiAnYm90dG9tLWxlZnQnLAogICAgICAgICAgZHVyYXRpb246MjAwMCwKICAgICAgICB9KTsKICAgICAgdGhpcy51cGRhdGVUYXNrKCkKICAgIH0sCiAgICByZW1vdmVUYXNrTWVtYmVyKG1lbWJlcikgewogICAgICBjb25zdCBpZHggPSB0aGlzLnRhc2tDb3B5Lm1lbWJlcnMuZmluZEluZGV4KAogICAgICAgICh0TWVtYmVyKSA9PiB0TWVtYmVyLl9pZCA9PT0gbWVtYmVyLl9pZAogICAgICApCiAgICAgIGNvbnN0IHR4dCA9IGBNZW1iZXIgJHttZW1iZXIuZnVsbE5hbWV9IHdhcyByZW1vdmVkIGZyb20gdGFza2AKICAgICAgbGV0IG5ld0FjdGl2aXR5ID0gYm9hcmRTZXJ2aWNlLmdldEVtcHR5QWN0aXZpdHkodHh0LCB0aGlzLnVzZXIpCiAgICAgIHRoaXMudGFza0NvcHkubWVtYmVycy5zcGxpY2UoaWR4LCAxKQogICAgICB0aGlzLnRhc2tDb3B5LmFjdGl2aXRpZXMucHVzaChuZXdBY3Rpdml0eSkKICAgICAgIGV2ZW50QnVzLiRlbWl0KCd1cGRhdGVCb2FyZEFjdGl2aXR5JywgbmV3QWN0aXZpdHkpCiAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICBtZXNzYWdlOiAnVXBkYXRlIHRhc2sgbWVtYmVyJywKICAgICAgICAgIHBvc2l0aW9uOiAnYm90dG9tLWxlZnQnLAogICAgICAgICAgZHVyYXRpb246MjAwMCwKICAgICAgICB9KTsKICAgICAgdGhpcy51cGRhdGVUYXNrKCkKICAgIH0sCiAgICBnZXRTdHlsZVN0cihjb2xvclN0cikgewogICAgICByZXR1cm4gYGJhY2tncm91bmRDb2xvcjoke2NvbG9yU3RyfWAKICAgIH0sCiAgICB0b2dnbGVTdGF0dXNlcygpIHsKICAgICAgdGhpcy5pc1N0YXR1c2VzU2hvd2VuID0gIXRoaXMuaXNTdGF0dXNlc1Nob3dlbgogICAgfSwKICAgIHRvZ2dsZVByaW9ycygpIHsKICAgICAgdGhpcy5pc1ByaW9yc1Nob3dlbiA9ICF0aGlzLmlzUHJpb3JzU2hvd2VuCiAgICB9LAogICAgZGVsZXRlVGFzaygpIHsKICAgICAgdGhpcy4kZW1pdCgnZGVsZXRlVGFzaycsIHRoaXMudGFza0NvcHkuaWQpCiAgICB9LAogICAgdXBkYXRlVGFza1R4dChldikgewogICAgICBjb25zdCBwcmV2VHh0ID0gdGhpcy50YXNrQ29weS50eHQKICAgICAgdGhpcy50YXNrQ29weS50eHQgPSBldi50YXJnZXQuaW5uZXJUZXh0CiAgICAgIGNvbnN0IHR4dCA9IGBUYXNrICcke3ByZXZUeHR9JyB3YXMgY2hhbmdlZCB0byAnJHtldi50YXJnZXQuaW5uZXJUZXh0fSdgCiAgICAgIGxldCBuZXdBY3Rpdml0eSA9IGJvYXJkU2VydmljZS5nZXRFbXB0eUFjdGl2aXR5KHR4dCwgdGhpcy51c2VyKQogICAgICB0aGlzLnRhc2tDb3B5LmFjdGl2aXRpZXMucHVzaChuZXdBY3Rpdml0eSkKICAgICAgIGV2ZW50QnVzLiRlbWl0KCd1cGRhdGVCb2FyZEFjdGl2aXR5JywgbmV3QWN0aXZpdHkpCiAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICBtZXNzYWdlOiAnVXBkYXRlIHRhc2sgbmFtZScsCiAgICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbS1sZWZ0JywKICAgICAgICAgIGR1cmF0aW9uOjIwMDAsCiAgICAgICAgfSk7CiAgICAgIHRoaXMudXBkYXRlVGFzaygpCiAgICB9LAogICAgdXBkYXRlVGFzaygpIHsKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlVGFzaycsIHRoaXMudGFza0NvcHkpCiAgICB9LAogICAgc2VuZFRvVGFza0RldGFpbHMoKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMudGFza0lkID09PSB0aGlzLnRhc2suaWQpIHsKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgKICAgICAgICBgL2JvYXJkLyR7dGhpcy4kcm91dGUucGFyYW1zLmJvYXJkSWR9L3Rhc2svJHt0aGlzLnRhc2suaWR9YAogICAgICApCiAgICB9LAogICAgdXBkYXRlQ29tcG9uZW50VGFzayh0YXNrKSB7CiAgICAgIGlmICh0aGlzLnRhc2tDb3B5LmlkID09PSB0aGlzLiRyb3V0ZS5wYXJhbXMudGFza0lkKSB7CiAgICAgICAgdGhpcy50YXNrQ29weSA9IHRhc2sKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZVRhc2tQcmlvcml0eShvcHQpIHsKICAgICAgY29uc3QgdHh0ID0gYFRhc2sgcHJpb3JpdHkgd2FzIHVwZGF0ZWQgdG8gJHtvcHQudHh0fWAKICAgICAgbGV0IG5ld0FjdGl2aXR5ID0gYm9hcmRTZXJ2aWNlLmdldEVtcHR5QWN0aXZpdHkodHh0LCB0aGlzLnVzZXIpCiAgICAgIC8vIGNvbnN0IHByZXZQcmlvciA9IHRoaXMudGFza0NvcHkucHJpb3JpdHkudHh0CiAgICAgIHRoaXMudGFza0NvcHkucHJpb3JpdHkudHh0ID0gb3B0LnR4dAogICAgICB0aGlzLnRhc2tDb3B5LnByaW9yaXR5LmNvbG9yID0gb3B0LmNvbG9yCiAgICAgIHRoaXMudGFza0NvcHkuYWN0aXZpdGllcy5wdXNoKG5ld0FjdGl2aXR5KQogICAgICAgZXZlbnRCdXMuJGVtaXQoJ3VwZGF0ZUJvYXJkQWN0aXZpdHknLCBuZXdBY3Rpdml0eSkKICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgIG1lc3NhZ2U6ICdVcGRhdGUgdGFzayBwcmlvcml0eScsCiAgICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbS1sZWZ0JywKICAgICAgICAgIGR1cmF0aW9uOjIwMDAsCiAgICAgICAgfSk7CiAgICAgIHRoaXMudXBkYXRlVGFzaygpCiAgICAgIHRoaXMuaXNQcmlvcnNTaG93ZW4gPSBmYWxzZQogICAgfSwKICAgIHVwZGF0ZVRhc2tTdGF0dXMob3B0KSB7CiAgICAgIGNvbnN0IHR4dCA9IGBUYXNrIHN0YXR1cyB3YXMgdXBkYXRlZCB0byAke29wdC50eHR9YAogICAgICBsZXQgbmV3QWN0aXZpdHkgPSBib2FyZFNlcnZpY2UuZ2V0RW1wdHlBY3Rpdml0eSh0eHQsIHRoaXMudXNlcikKICAgICAgLy8gY29uc3QgcHJldlN0YXR1cyA9IHRoaXMudGFza0NvcHkuc3RhdHVzLnR4dAogICAgICB0aGlzLnRhc2tDb3B5LnN0YXR1cy50eHQgPSBvcHQudHh0CiAgICAgIHRoaXMudGFza0NvcHkuc3RhdHVzLmNvbG9yID0gb3B0LmNvbG9yCiAgICAgIHRoaXMudGFza0NvcHkuYWN0aXZpdGllcy5wdXNoKG5ld0FjdGl2aXR5KQogICAgICAgICAgICAgZXZlbnRCdXMuJGVtaXQoJ3VwZGF0ZUJvYXJkQWN0aXZpdHknLCBuZXdBY3Rpdml0eSkKICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgIG1lc3NhZ2U6ICdVcGRhdGUgdGFzayBzdGF0dXMnLAogICAgICAgICAgcG9zaXRpb246ICdib3R0b20tbGVmdCcsCiAgICAgICAgICBkdXJhdGlvbjoyMDAwLAogICAgICAgIH0pOwogICAgICB0aGlzLnVwZGF0ZVRhc2soKQogICAgICB0aGlzLmlzUHJpb3JzU2hvd2VuID0gZmFsc2UKICAgIH0sCiAgICBjbG9zZVBvcHVwcygpIHsKICAgICAgdGhpcy5pc1Rhc2tNZW1iZXJzU2hvd2VuID0gZmFsc2UKICAgICAgdGhpcy5pc1N0YXR1c2VzU2hvd2VuID0gZmFsc2UKICAgICAgdGhpcy5pc1ByaW9yc1Nob3dlbiA9IGZhbHNlCiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIGV2ZW50QnVzLiRvbigndXBkYXRlVGFza1ByZXZpZXcnLCB0aGlzLnVwZGF0ZUNvbXBvbmVudFRhc2spCiAgICB0aGlzLnRhc2tDb3B5ID0gdGhpcy50YXNrCiAgICBjb25zb2xlLmxvZygnSSBhbSB0YXNrIHByZXZpZXcsIGhlcmUgaXMgbXkgdGFzayBtYW46JywgKQogIH0sCn0K"},{"version":3,"sources":["task-preview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"task-preview.vue","sourceRoot":"src/cmps","sourcesContent":["<template>\n  <li\n    v-if=\"taskCopy\"\n    class=\"task-preview flex space-between align-center width100\"\n  >\n    <div class=\"flex space-between align-center width100\">\n      <span class=\"task-color\" :style=\"taskBgc\"></span>\n      <button class=\"btn-close\" @click=\"deleteTask\">\n        <i v-tooltip.top=\"'Delete Task'\" class=\"task-icon btn-trash fa-icon far fa-trash-alt\"></i>\n      </button>\n\n      <div class=\"task-txt\">\n        <span\n          class=\"editable\"\n          @blur=\"updateTaskTxt\"\n          @keydown.enter=\"updateTaskTxt\"\n          contenteditable\n          >{{ taskCopy.txt }}</span\n        >\n      </div>\n      <el-badge\n        :hidden=\"postsLegnth\"\n        :value=\"task.posts.length\"\n        class=\"item\"\n        type=\"primary\"\n      >\n        <i\n          @click=\"sendToTaskDetails\"\n          v-tooltip.top=\"'Task Details'\"\n          :style=\"postosColorBtn\" class=\"task-icon far fa-comment fa-icon\"\n        ></i>\n      </el-badge>\n    </div>\n    <div class=\"task-details flex\">\n      <div class=\"headers flex\">\n        <span>\n          <el-badge\n            :hidden=\"membersLegnth\"\n            :value=\"task.members.length\"\n            class=\"item\"\n            type=\"primary\"\n          >\n            <i\n              @click.stop=\"toggleMember\"\n              v-tooltip.top=\"'Task Members'\"\n              class=\"task-icon far fa-user-circle fa-icon\"\n            ></i>\n          </el-badge>\n        </span>\n\n        <add-members\n          v-if=\"isTaskMembersShowen\"\n          firstTitle=\"Task Members\"\n          secondTitle=\"Board Members\"\n          :members=\"taskCopy.members\"\n          :allMembers=\"filteredBoardMembers\"\n          @addMember=\"addTaskMember\"\n          @removeMember=\"removeTaskMember\"\n        />\n        <span\n          @click=\"toggleStatuses\"\n          class=\"status relative\"\n          :style=\"getStyleStr(taskCopy.status.color)\"\n          >{{ taskCopy.status.txt }}\n          <label-picker\n            v-if=\"isStatusesShowen\"\n            :opts=\"statuses\"\n            type=\"status\"\n            @updateTaskStatus=\"updateTaskStatus\"\n        /></span>\n\n        <span\n          @click=\"togglePriors\"\n          class=\"priority relative\"\n          :style=\"getStyleStr(taskCopy.priority.color)\"\n          >{{ taskCopy.priority.txt }}\n          <label-picker\n            v-if=\"isPriorsShowen\"\n            :opts=\"priorities\"\n            type=\"priority\"\n            @updateTaskPriority=\"updateTaskPriority\"\n        /></span>\n\n        <span class=\"date-picker\">\n          <el-date-picker v-tooltip.top=\"'Due Date'\"\n            class=\"date-input\"\n            @change=\"updateTaskDate\"\n            v-model=\"taskCopy.dueDate\"\n            type=\"date\"\n            placeholder=\"Pick a date\"\n          >\n          </el-date-picker>\n        </span>\n      </div>\n    </div>\n    <div\n      class=\"back-drop-layer\"\n      v-if=\"isTaskMembersShowen || isStatusesShowen || isPriorsShowen\"\n      @click.stop=\"closePopups\"\n    ></div>\n  </li>\n</template>\n<script>\nimport addMembers from '@/cmps/add-members'\nimport { eventBus } from '@/services/event-bus.service'\nimport labelPicker from './label-picker'\nimport { boardService } from '@/services/board.service'\nimport moment from 'moment'\n\nexport default {\n  components: { labelPicker, addMembers },\n  name: 'task-preview',\n  data() {\n    return {\n      taskCopy: null,\n      isStatusesShowen: false,\n      isPriorsShowen: false,\n      isTaskMembersShowen: false,\n    }\n  },\n  props: {\n    taskColor: String,\n    task: Object,\n    statuses: Array,\n    priorities: Array,\n    groupId: String,\n    boardMembers: [Array, Object],\n    activity: Object,\n    user: Object,\n  },\n  computed: {\n    postsLegnth() {\n      return this.task.posts.length > 0 ? false : true\n    },\n    postosColorBtn(){\n    return this.task.posts.length > 0 ? 'color: #0085ff;': ''\n    },\n    membersLegnth() {\n      return this.task.members.length > 0 ? false : true\n    },\n    taskBgc() {\n      return { backgroundColor: this.taskColor }\n    },\n    filteredBoardMembers() {\n      const boardMembers = this.boardMembers\n      const taskMembers = this.taskCopy.members\n      if (taskMembers) {\n        const filteredBoardMembers = boardMembers.filter((bMember) => {\n          return taskMembers.every((tMember) => {\n            return tMember._id !== bMember._id\n          })\n        })\n        return filteredBoardMembers\n      } else {\n        return boardMembers\n      }\n    },\n  },\n  methods: {\n    updateTaskDate() {\n      const date = moment(this.taskCopy.dueDate).format('ll')\n      const txt = `Task due date was changed to ${date}`\n      let newActivity = boardService.getEmptyActivity(txt, this.user)\n      this.taskCopy.activities.push(newActivity)\n      eventBus.$emit('updateBoardActivity', newActivity)\n      this.$notify({\n          message: 'Update task date',\n          position: 'bottom-left',\n          duration:2000,\n        });\n\n      this.updateTask()\n    },\n    toggleMember() {\n      this.isTaskMembersShowen = !this.isTaskMembersShowen\n    },\n    addTaskMember(member) {\n      const txt = `Member ${member.fullName} was added to task`\n      let newActivity = boardService.getEmptyActivity(txt, this.user)\n      this.taskCopy.members.unshift(member)\n      this.taskCopy.activities.push(newActivity)\n       eventBus.$emit('updateBoardActivity', newActivity)\n      this.$notify({\n          message: 'Update task member',\n          position: 'bottom-left',\n          duration:2000,\n        });\n      this.updateTask()\n    },\n    removeTaskMember(member) {\n      const idx = this.taskCopy.members.findIndex(\n        (tMember) => tMember._id === member._id\n      )\n      const txt = `Member ${member.fullName} was removed from task`\n      let newActivity = boardService.getEmptyActivity(txt, this.user)\n      this.taskCopy.members.splice(idx, 1)\n      this.taskCopy.activities.push(newActivity)\n       eventBus.$emit('updateBoardActivity', newActivity)\n      this.$notify({\n          message: 'Update task member',\n          position: 'bottom-left',\n          duration:2000,\n        });\n      this.updateTask()\n    },\n    getStyleStr(colorStr) {\n      return `backgroundColor:${colorStr}`\n    },\n    toggleStatuses() {\n      this.isStatusesShowen = !this.isStatusesShowen\n    },\n    togglePriors() {\n      this.isPriorsShowen = !this.isPriorsShowen\n    },\n    deleteTask() {\n      this.$emit('deleteTask', this.taskCopy.id)\n    },\n    updateTaskTxt(ev) {\n      const prevTxt = this.taskCopy.txt\n      this.taskCopy.txt = ev.target.innerText\n      const txt = `Task '${prevTxt}' was changed to '${ev.target.innerText}'`\n      let newActivity = boardService.getEmptyActivity(txt, this.user)\n      this.taskCopy.activities.push(newActivity)\n       eventBus.$emit('updateBoardActivity', newActivity)\n      this.$notify({\n          message: 'Update task name',\n          position: 'bottom-left',\n          duration:2000,\n        });\n      this.updateTask()\n    },\n    updateTask() {\n      this.$emit('updateTask', this.taskCopy)\n    },\n    sendToTaskDetails() {\n      if (this.$route.params.taskId === this.task.id) {\n        return\n      }\n      this.$router.push(\n        `/board/${this.$route.params.boardId}/task/${this.task.id}`\n      )\n    },\n    updateComponentTask(task) {\n      if (this.taskCopy.id === this.$route.params.taskId) {\n        this.taskCopy = task\n      }\n    },\n    updateTaskPriority(opt) {\n      const txt = `Task priority was updated to ${opt.txt}`\n      let newActivity = boardService.getEmptyActivity(txt, this.user)\n      // const prevPrior = this.taskCopy.priority.txt\n      this.taskCopy.priority.txt = opt.txt\n      this.taskCopy.priority.color = opt.color\n      this.taskCopy.activities.push(newActivity)\n       eventBus.$emit('updateBoardActivity', newActivity)\n      this.$notify({\n          message: 'Update task priority',\n          position: 'bottom-left',\n          duration:2000,\n        });\n      this.updateTask()\n      this.isPriorsShowen = false\n    },\n    updateTaskStatus(opt) {\n      const txt = `Task status was updated to ${opt.txt}`\n      let newActivity = boardService.getEmptyActivity(txt, this.user)\n      // const prevStatus = this.taskCopy.status.txt\n      this.taskCopy.status.txt = opt.txt\n      this.taskCopy.status.color = opt.color\n      this.taskCopy.activities.push(newActivity)\n             eventBus.$emit('updateBoardActivity', newActivity)\n      this.$notify({\n          message: 'Update task status',\n          position: 'bottom-left',\n          duration:2000,\n        });\n      this.updateTask()\n      this.isPriorsShowen = false\n    },\n    closePopups() {\n      this.isTaskMembersShowen = false\n      this.isStatusesShowen = false\n      this.isPriorsShowen = false\n    },\n  },\n  created() {\n    eventBus.$on('updateTaskPreview', this.updateComponentTask)\n    this.taskCopy = this.task\n    console.log('I am task preview, here is my task man:', )\n  },\n}\n</script>\n"]}]}